var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function i(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function a(t,e,n){t.$$.on_destroy.push(s(e,n))}function u(t,e,n,i){if(t){const r=c(t,e,n,i);return t[0](r)}}function c(t,e,n,i){return t[1]&&i?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](i(e))):n.ctx}function h(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}function f(t,e,n,i,r,o){if(r){const l=c(e,n,i,o);t.p(l,r)}}function d(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function p(t){return null==t?"":t}function m(t,e,n){return t.set(n),e}function g(e){return e&&o(e.destroy)?e.destroy:t}const v="undefined"!=typeof window;let y=v?()=>window.performance.now():()=>Date.now(),$=v?t=>requestAnimationFrame(t):t;const b=new Set;function w(t){b.forEach((e=>{e.c(t)||(b.delete(e),e.f())})),0!==b.size&&$(w)}function _(t,e){t.appendChild(e)}function x(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function S(t){const e=I("style");return function(t,e){_(t.head||t,e),e.sheet}(x(t),e),e.sheet}function A(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function k(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function I(t){return document.createElement(t)}function C(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function E(t){return document.createTextNode(t)}function z(){return E(" ")}function O(){return E("")}function N(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function T(t){return function(e){return e.preventDefault(),t.call(this,e)}}function F(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function D(t,e){e=""+e,t.data!==e&&(t.data=e)}function L(t,e){t.value=null==e?"":e}let P;function H(){if(void 0===P){P=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){P=!0}}return P}function R(t,e,n){t.classList[n?"add":"remove"](e)}class V{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.is_svg?this.e=C(e.nodeName):this.e=I(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)A(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(M)}}function j(t,e){return new t(e)}const q=new Map;let B,G=0;function W(t,e,n,i,r,o,l,s=0){const a=16.666/i;let u="{\n";for(let t=0;t<=1;t+=a){const i=e+(n-e)*o(t);u+=100*t+`%{${l(i,1-i)}}\n`}const c=u+`100% {${l(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(c)}_${s}`,f=x(t),{stylesheet:d,rules:p}=q.get(f)||function(t,e){const n={stylesheet:S(e),rules:{}};return q.set(t,n),n}(f,t);p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${c}`,d.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${h} ${i}ms linear ${r}ms 1 both`,G+=1,h}function X(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-i.length;r&&(t.style.animation=i.join(", "),G-=r,G||$((()=>{G||(q.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&M(e)})),q.clear())})))}function K(n,i,r,o){if(!i)return t;const l=n.getBoundingClientRect();if(i.left===l.left&&i.right===l.right&&i.top===l.top&&i.bottom===l.bottom)return t;const{delay:s=0,duration:a=300,easing:u=e,start:c=y()+s,end:h=c+a,tick:f=t,css:d}=r(n,{from:i,to:l},o);let p,m=!0,g=!1;function v(){d&&X(n,p),m=!1}return function(t){let e;0===b.size&&$(w),new Promise((n=>{b.add(e={c:t,f:n})}))}((t=>{if(!g&&t>=c&&(g=!0),g&&t>=h&&(f(1,0),v()),!m)return!1;if(g){const e=0+1*u((t-c)/a);f(e,1-e)}return!0})),d&&(p=W(n,0,1,a,s,u,d)),s||(g=!0),f(0,1),v}function U(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:i}=e,r=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=i,function(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const i=getComputedStyle(t),r="none"===i.transform?"":i.transform;t.style.transform=`${r} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}(t,r)}}function Q(t){B=t}function Y(){if(!B)throw new Error("Function called outside component initialization");return B}function Z(t){Y().$$.on_mount.push(t)}function J(t){Y().$$.on_destroy.push(t)}function tt(){const t=Y();return(e,n,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,i,e),r}(e,n,{cancelable:i});return r.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}function et(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const nt=[],it=[];let rt=[];const ot=[],lt=Promise.resolve();let st=!1;function at(){st||(st=!0,lt.then(pt))}function ut(){return at(),lt}function ct(t){rt.push(t)}function ht(t){ot.push(t)}const ft=new Set;let dt=0;function pt(){if(0!==dt)return;const t=B;do{try{for(;dt<nt.length;){const t=nt[dt];dt++,Q(t),mt(t.$$)}}catch(t){throw nt.length=0,dt=0,t}for(Q(null),nt.length=0,dt=0;it.length;)it.pop()();for(let t=0;t<rt.length;t+=1){const e=rt[t];ft.has(e)||(ft.add(e),e())}rt.length=0}while(nt.length);for(;ot.length;)ot.pop()();st=!1,ft.clear(),Q(t)}function mt(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ct)}}const gt=new Set;let vt;function yt(){vt={r:0,c:[],p:vt}}function $t(){vt.r||r(vt.c),vt=vt.p}function bt(t,e){t&&t.i&&(gt.delete(t),t.i(e))}function wt(t,e,n,i){if(t&&t.o){if(gt.has(t))return;gt.add(t),vt.c.push((()=>{gt.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}else i&&i()}function _t(t,e){const n=e.token={};function i(t,i,r,o){if(e.token!==n)return;e.resolved=o;let l=e.ctx;void 0!==r&&(l=l.slice(),l[r]=o);const s=t&&(e.current=t)(l);let a=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==i&&t&&(yt(),wt(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),$t())})):e.block.d(1),s.c(),bt(s,1),s.m(e.mount(),e.anchor),a=!0),e.block=s,e.blocks&&(e.blocks[i]=s),a&&pt()}if(!(r=t)||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then){if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}else{const n=Y();if(t.then((t=>{Q(n),i(e.then,1,e.value,t),Q(null)}),(t=>{if(Q(n),i(e.catch,2,e.error,t),Q(null),!e.hasCatch)throw t})),e.current!==e.pending)return i(e.pending,0),!0}var r}function xt(t,e,n){const i=e.slice(),{resolved:r}=t;t.current===t.then&&(i[t.value]=r),t.current===t.catch&&(i[t.error]=r),t.block.p(i,n)}function St(t,e){wt(t,1,1,(()=>{e.delete(t.key)}))}function At(t,e){t.f(),St(t,e)}function Mt(t,e,n,i,o,l,s,a,u,c,h,f){let d=t.length,p=l.length,m=d;const g={};for(;m--;)g[t[m].key]=m;const v=[],y=new Map,$=new Map,b=[];for(m=p;m--;){const t=f(o,l,m),r=n(t);let a=s.get(r);a?i&&b.push((()=>a.p(t,e))):(a=c(r,t),a.c()),y.set(r,v[m]=a),r in g&&$.set(r,Math.abs(m-g[r]))}const w=new Set,_=new Set;function x(t){bt(t,1),t.m(a,h),s.set(t.key,t),h=t.first,p--}for(;d&&p;){const e=v[p-1],n=t[d-1],i=e.key,r=n.key;e===n?(h=e.first,d--,p--):y.has(r)?!s.has(i)||w.has(i)?x(e):_.has(r)?d--:$.get(i)>$.get(r)?(_.add(i),x(e)):(w.add(r),d--):(u(n,s),d--)}for(;d--;){const e=t[d];y.has(e.key)||u(e,s)}for(;p;)x(v[p-1]);return r(b),v}function kt(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function It(t){t&&t.c()}function Ct(t,e,i,l){const{fragment:s,after_update:a}=t.$$;s&&s.m(e,i),l||ct((()=>{const e=t.$$.on_mount.map(n).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),a.forEach(ct)}function Et(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];rt.forEach((i=>-1===t.indexOf(i)?e.push(i):n.push(i))),n.forEach((t=>t())),rt=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function zt(e,n,o,l,s,a,u,c=[-1]){const h=B;Q(e);const f=e.$$={fragment:null,ctx:[],props:a,update:t,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:i(),dirty:c,skip_bound:!1,root:n.target||h.$$.root};u&&u(f.root);let d=!1;if(f.ctx=o?o(e,n.props||{},((t,n,...i)=>{const r=i.length?i[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),d&&function(t,e){-1===t.$$.dirty[0]&&(nt.push(t),at(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),d=!0,r(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(M)}else f.fragment&&f.fragment.c();n.intro&&bt(e.$$.fragment),Ct(e,n.target,n.anchor,n.customElement),pt()}Q(h)}class Ot{$destroy(){Et(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Nt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Tt(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ft(t){let e,n,i;function r(t,i,r=0,o=t.length){if(r<o){if(0!==e(i,i))return o;do{const e=r+o>>>1;n(t[e],i)<0?r=e+1:o=e}while(r<o)}return r}return 2!==t.length?(e=Nt,n=(e,n)=>Nt(t(e),n),i=(e,n)=>t(e)-n):(e=t===Nt||t===Tt?t:Dt,n=t,i=t),{left:r,center:function(t,e,n=0,o=t.length){const l=r(t,e,n,o-1);return l>n&&i(t[l-1],e)>-i(t[l],e)?l-1:l},right:function(t,i,r=0,o=t.length){if(r<o){if(0!==e(i,i))return o;do{const e=r+o>>>1;n(t[e],i)<=0?r=e+1:o=e}while(r<o)}return r}}}function Dt(){return 0}const Lt=Ft(Nt).right;Ft((function(t){return null===t?NaN:+t})).center;var Pt=Lt;const Ht=Math.sqrt(50),Rt=Math.sqrt(10),Vt=Math.sqrt(2);function jt(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),l=o>=Ht?10:o>=Rt?5:o>=Vt?2:1;let s,a,u;return r<0?(u=Math.pow(10,-r)/l,s=Math.round(t*u),a=Math.round(e*u),s/u<t&&++s,a/u>e&&--a,u=-u):(u=Math.pow(10,r)*l,s=Math.round(t/u),a=Math.round(e/u),s*u<t&&++s,a*u>e&&--a),a<s&&.5<=n&&n<2?jt(t,e,2*n):[s,a,u]}function qt(t,e,n){return jt(t=+t,e=+e,n=+n)[2]}function Bt(t){return t.length}function Gt(){return function(t){if(!(r=t.length))return[];for(var e=-1,n=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}(t,Bt),i=new Array(n);++e<n;)for(var r,o=-1,l=i[e]=new Array(r);++o<r;)l[o]=t[o][e];return i}(arguments)}function Wt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Xt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Kt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ut(){}var Qt=.7,Yt=1/Qt,Zt="\\s*([+-]?\\d+)\\s*",Jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ee=/^#([0-9a-f]{3,8})$/,ne=new RegExp(`^rgb\\(${Zt},${Zt},${Zt}\\)$`),ie=new RegExp(`^rgb\\(${te},${te},${te}\\)$`),re=new RegExp(`^rgba\\(${Zt},${Zt},${Zt},${Jt}\\)$`),oe=new RegExp(`^rgba\\(${te},${te},${te},${Jt}\\)$`),le=new RegExp(`^hsl\\(${Jt},${te},${te}\\)$`),se=new RegExp(`^hsla\\(${Jt},${te},${te},${Jt}\\)$`),ae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ue(){return this.rgb().formatHex()}function ce(){return this.rgb().formatRgb()}function he(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ee.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?fe(e):3===n?new me(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?de(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?de(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ne.exec(t))?new me(e[1],e[2],e[3],1):(e=ie.exec(t))?new me(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=re.exec(t))?de(e[1],e[2],e[3],e[4]):(e=oe.exec(t))?de(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=le.exec(t))?we(e[1],e[2]/100,e[3]/100,1):(e=se.exec(t))?we(e[1],e[2]/100,e[3]/100,e[4]):ae.hasOwnProperty(t)?fe(ae[t]):"transparent"===t?new me(NaN,NaN,NaN,0):null}function fe(t){return new me(t>>16&255,t>>8&255,255&t,1)}function de(t,e,n,i){return i<=0&&(t=e=n=NaN),new me(t,e,n,i)}function pe(t,e,n,i){return 1===arguments.length?((r=t)instanceof Ut||(r=he(r)),r?new me((r=r.rgb()).r,r.g,r.b,r.opacity):new me):new me(t,e,n,null==i?1:i);var r}function me(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function ge(){return`#${be(this.r)}${be(this.g)}${be(this.b)}`}function ve(){const t=ye(this.opacity);return`${1===t?"rgb(":"rgba("}${$e(this.r)}, ${$e(this.g)}, ${$e(this.b)}${1===t?")":`, ${t})`}`}function ye(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $e(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function be(t){return((t=$e(t))<16?"0":"")+t.toString(16)}function we(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xe(t,e,n,i)}function _e(t){if(t instanceof xe)return new xe(t.h,t.s,t.l,t.opacity);if(t instanceof Ut||(t=he(t)),!t)return new xe;if(t instanceof xe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),l=NaN,s=o-r,a=(o+r)/2;return s?(l=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=a<.5?o+r:2-o-r,l*=60):s=a>0&&a<1?0:l,new xe(l,s,a,t.opacity)}function xe(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Se(t){return(t=(t||0)%360)<0?t+360:t}function Ae(t){return Math.max(0,Math.min(1,t||0))}function Me(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Xt(Ut,he,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ue,formatHex:ue,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return _e(this).formatHsl()},formatRgb:ce,toString:ce}),Xt(me,pe,Kt(Ut,{brighter(t){return t=null==t?Yt:Math.pow(Yt,t),new me(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Qt:Math.pow(Qt,t),new me(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new me($e(this.r),$e(this.g),$e(this.b),ye(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ge,formatHex:ge,formatHex8:function(){return`#${be(this.r)}${be(this.g)}${be(this.b)}${be(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ve,toString:ve})),Xt(xe,(function(t,e,n,i){return 1===arguments.length?_e(t):new xe(t,e,n,null==i?1:i)}),Kt(Ut,{brighter(t){return t=null==t?Yt:Math.pow(Yt,t),new xe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Qt:Math.pow(Qt,t),new xe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new me(Me(t>=240?t-240:t+120,r,i),Me(t,r,i),Me(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new xe(Se(this.h),Ae(this.s),Ae(this.l),ye(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ye(this.opacity);return`${1===t?"hsl(":"hsla("}${Se(this.h)}, ${100*Ae(this.s)}%, ${100*Ae(this.l)}%${1===t?")":`, ${t})`}`}}));var ke=t=>()=>t;function Ie(t){return 1==(t=+t)?Ce:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):ke(isNaN(e)?n:e)}}function Ce(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):ke(isNaN(t)?e:t)}var Ee=function t(e){var n=Ie(e);function i(t,e){var i=n((t=pe(t)).r,(e=pe(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),l=Ce(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=l(e),t+""}}return i.gamma=t,i}(1);function ze(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}}function Oe(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),l=new Array(i);for(n=0;n<r;++n)o[n]=He(t[n],e[n]);for(;n<i;++n)l[n]=e[n];return function(t){for(n=0;n<r;++n)l[n]=o[n](t);return l}}function Ne(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Te(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Fe(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=He(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var De=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Le=new RegExp(De.source,"g");function Pe(t,e){var n,i,r,o=De.lastIndex=Le.lastIndex=0,l=-1,s=[],a=[];for(t+="",e+="";(n=De.exec(t))&&(i=Le.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[l]?s[l]+=r:s[++l]=r),(n=n[0])===(i=i[0])?s[l]?s[l]+=i:s[++l]=i:(s[++l]=null,a.push({i:l,x:Te(n,i)})),o=Le.lastIndex;return o<e.length&&(r=e.slice(o),s[l]?s[l]+=r:s[++l]=r),s.length<2?a[0]?function(t){return function(e){return t(e)+""}}(a[0].x):function(t){return function(){return t}}(e):(e=a.length,function(t){for(var n,i=0;i<e;++i)s[(n=a[i]).i]=n.x(t);return s.join("")})}function He(t,e){var n,i=typeof e;return null==e||"boolean"===i?ke(e):("number"===i?Te:"string"===i?(n=he(e))?(e=n,Ee):Pe:e instanceof he?Ee:e instanceof Date?Ne:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?ze:Array.isArray(e)?Oe:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Fe:Te)(t,e)}function Re(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ve,je=180/Math.PI,qe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Be(t,e,n,i,r,o){var l,s,a;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,a/=s),t*i<e*n&&(t=-t,e=-e,a=-a,l=-l),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*je,skewX:Math.atan(a)*je,scaleX:l,scaleY:s}}function Ge(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,l){var s=[],a=[];return o=t(o),l=t(l),function(t,i,r,o,l,s){if(t!==r||i!==o){var a=l.push("translate(",null,e,null,n);s.push({i:a-4,x:Te(t,r)},{i:a-2,x:Te(i,o)})}else(r||o)&&l.push("translate("+r+e+o+n)}(o.translateX,o.translateY,l.translateX,l.translateY,s,a),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Te(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,l.rotate,s,a),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Te(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,l.skewX,s,a),function(t,e,n,i,o,l){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");l.push({i:s-4,x:Te(t,n)},{i:s-2,x:Te(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,l.scaleX,l.scaleY,s,a),o=l=null,function(t){for(var e,n=-1,i=a.length;++n<i;)s[(e=a[n]).i]=e.x(t);return s.join("")}}}var We=Ge((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?qe:Be(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Xe=Ge((function(t){return null==t?qe:(Ve||(Ve=document.createElementNS("http://www.w3.org/2000/svg","g")),Ve.setAttribute("transform",t),(t=Ve.transform.baseVal.consolidate())?Be((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):qe)}),", ",")",")");function Ke(t){return+t}var Ue=[0,1];function Qe(t){return t}function Ye(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Ze(t,e,n){var i=t[0],r=t[1],o=e[0],l=e[1];return r<i?(i=Ye(r,i),o=n(l,o)):(i=Ye(i,r),o=n(o,l)),function(t){return o(i(t))}}function Je(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)r[l]=Ye(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(e){var n=Pt(t,e,1,i)-1;return o[n](r[n](e))}}function tn(){var t,e,n,i,r,o,l=Ue,s=Ue,a=He,u=Qe;function c(){var t,e,n,a=Math.min(l.length,s.length);return u!==Qe&&(t=l[0],e=l[a-1],t>e&&(n=t,t=e,e=n),u=function(n){return Math.max(t,Math.min(e,n))}),i=a>2?Je:Ze,r=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(r||(r=i(l.map(t),s,a)))(t(u(e)))}return h.invert=function(n){return u(e((o||(o=i(s,l.map(t),Te)))(n)))},h.domain=function(t){return arguments.length?(l=Array.from(t,Ke),c()):l.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),a=Re,c()},h.clamp=function(t){return arguments.length?(u=!!t||Qe,c()):u!==Qe},h.interpolate=function(t){return arguments.length?(a=t,c()):a},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,c()}}function en(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function nn(t){return(t=en(Math.abs(t)))?t[1]:NaN}var rn,on=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ln(t){if(!(e=on.exec(t)))throw new Error("invalid format: "+t);var e;return new sn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function sn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function an(t,e){var n=en(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}ln.prototype=sn.prototype,sn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var un={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>an(100*t,e),r:an,s:function(t,e){var n=en(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(rn=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,l=i.length;return o===l?i:o>l?i+new Array(o-l+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+en(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function cn(t){return t}var hn,fn,dn,pn=Array.prototype.map,mn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function gn(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?cn:(e=pn.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],l=0,s=e[0],a=0;r>0&&s>0&&(a+s+1>i&&(s=Math.max(1,i-a)),o.push(t.substring(r-=s,r+s)),!((a+=s+1)>i));)s=e[l=(l+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",l=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?cn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(pn.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=ln(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,m=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(m=!0,y="g"):un[y]||(void 0===g&&(g=12),v=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var $="$"===f?r:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===f?o:/[%p]/.test(y)?a:"",w=un[y],_=/[defgprs%]/.test(y);function x(t){var r,o,a,f=$,x=b;if("c"===y)x=w(t)+x,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),g),v&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),S&&0==+t&&"+"!==h&&(S=!1),f=(S?"("===h?h:u:"-"===h||"("===h?"":h)+f,x=("s"===y?mn[8+rn/3]:"")+x+(S&&"("===h?")":""),_)for(r=-1,o=t.length;++r<o;)if(48>(a=t.charCodeAt(r))||a>57){x=(46===a?l+t.slice(r+1):t.slice(r))+x,t=t.slice(0,r);break}}m&&!d&&(t=i(t,1/0));var A=f.length+t.length+x.length,M=A<p?new Array(p-A+1).join(e):"";switch(m&&d&&(t=i(M+t,M.length?p-x.length:1/0),M=""),n){case"<":t=f+t+x+M;break;case"=":t=f+M+t+x;break;case"^":t=M.slice(0,A=M.length>>1)+f+t+x+M.slice(A);break;default:t=M+f+t+x}return s(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),x.toString=function(){return t+""},x}return{format:h,formatPrefix:function(t,e){var n=h(((t=ln(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(nn(e)/3))),r=Math.pow(10,-i),o=mn[8+i/3];return function(t){return n(r*t)+o}}}}function vn(t,e,n,i){var r,o=function(t,e,n){n=+n;const i=(e=+e)<(t=+t),r=i?qt(e,t,n):qt(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}(t,e,n);switch((i=ln(null==i?",f":i)).type){case"s":var l=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(nn(e)/3)))-nn(Math.abs(t)))}(o,l))||(i.precision=r),dn(i,l);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nn(e)-nn(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-nn(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return fn(i)}function yn(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const i=e<t,[r,o,l]=i?jt(e,t,n):jt(t,e,n);if(!(o>=r))return[];const s=o-r+1,a=new Array(s);if(i)if(l<0)for(let t=0;t<s;++t)a[t]=(o-t)/-l;else for(let t=0;t<s;++t)a[t]=(o-t)*l;else if(l<0)for(let t=0;t<s;++t)a[t]=(r+t)/-l;else for(let t=0;t<s;++t)a[t]=(r+t)*l;return a}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return vn(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,o=e(),l=0,s=o.length-1,a=o[l],u=o[s],c=10;for(u<a&&(r=a,a=u,u=r,r=l,l=s,s=r);c-- >0;){if((r=qt(a,u,n))===i)return o[l]=a,o[s]=u,e(o);if(r>0)a=Math.floor(a/r)*r,u=Math.ceil(u/r)*r;else{if(!(r<0))break;a=Math.ceil(a*r)/r,u=Math.floor(u*r)/r}i=r}return t},t}function $n(){var t=tn()(Qe,Qe);return t.copy=function(){return e=t,$n().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());var e},Wt.apply(t,arguments),yn(t)}hn=gn({thousands:",",grouping:[3],currency:["$",""]}),fn=hn.format,dn=hn.formatPrefix;var bn="http://www.w3.org/1999/xhtml",wn={svg:"http://www.w3.org/2000/svg",xhtml:bn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _n(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),wn.hasOwnProperty(e)?{space:wn[e],local:t}:t}function xn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===bn&&e.documentElement.namespaceURI===bn?e.createElement(t):e.createElementNS(n,t)}}function Sn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function An(t){var e=_n(t);return(e.local?Sn:xn)(e)}function Mn(){}function kn(t){return null==t?Mn:function(){return this.querySelector(t)}}function In(){return[]}function Cn(t){return null==t?In:function(){return this.querySelectorAll(t)}}function En(t){return function(){return function(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}function zn(t){return function(){return this.matches(t)}}function On(t){return function(e){return e.matches(t)}}var Nn=Array.prototype.find;function Tn(){return this.firstElementChild}var Fn=Array.prototype.filter;function Dn(){return Array.from(this.children)}function Ln(t){return new Array(t.length)}function Pn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Hn(t,e,n,i,r,o){for(var l,s=0,a=e.length,u=o.length;s<u;++s)(l=e[s])?(l.__data__=o[s],i[s]=l):n[s]=new Pn(t,o[s]);for(;s<a;++s)(l=e[s])&&(r[s]=l)}function Rn(t,e,n,i,r,o,l){var s,a,u,c=new Map,h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(a=e[s])&&(d[s]=u=l.call(a,a.__data__,s,e)+"",c.has(u)?r[s]=a:c.set(u,a));for(s=0;s<f;++s)u=l.call(t,o[s],s,o)+"",(a=c.get(u))?(i[s]=a,a.__data__=o[s],c.delete(u)):n[s]=new Pn(t,o[s]);for(s=0;s<h;++s)(a=e[s])&&c.get(d[s])===a&&(r[s]=a)}function Vn(t){return t.__data__}function jn(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function qn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Bn(t){return function(){this.removeAttribute(t)}}function Gn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wn(t,e){return function(){this.setAttribute(t,e)}}function Xn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Kn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Un(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Qn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Yn(t){return function(){this.style.removeProperty(t)}}function Zn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Jn(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function ti(t,e){return t.style.getPropertyValue(e)||Qn(t).getComputedStyle(t,null).getPropertyValue(e)}function ei(t){return function(){delete this[t]}}function ni(t,e){return function(){this[t]=e}}function ii(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ri(t){return t.trim().split(/^|\s+/)}function oi(t){return t.classList||new li(t)}function li(t){this._node=t,this._names=ri(t.getAttribute("class")||"")}function si(t,e){for(var n=oi(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function ai(t,e){for(var n=oi(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function ui(t){return function(){si(this,t)}}function ci(t){return function(){ai(this,t)}}function hi(t,e){return function(){(e.apply(this,arguments)?si:ai)(this,t)}}function fi(){this.textContent=""}function di(t){return function(){this.textContent=t}}function pi(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function mi(){this.innerHTML=""}function gi(t){return function(){this.innerHTML=t}}function vi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function yi(){this.nextSibling&&this.parentNode.appendChild(this)}function $i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bi(){return null}function wi(){var t=this.parentNode;t&&t.removeChild(this)}function _i(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xi(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Si(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function Ai(t,e,n){return function(){var i,r=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var l=0,s=r.length;l<s;++l)if((i=r[l]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Mi(t,e,n){var i=Qn(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function ki(t,e){return function(){return Mi(this,t,e)}}function Ii(t,e){return function(){return Mi(this,t,e.apply(this,arguments))}}Pn.prototype={constructor:Pn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},li.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ci=[null];function Ei(t,e){this._groups=t,this._parents=e}function zi(){return new Ei([[document.documentElement]],Ci)}function Oi(t){return"string"==typeof t?new Ei([[document.querySelector(t)]],[document.documentElement]):new Ei([[t]],Ci)}function Ni(t){return function(){return t}}Ei.prototype=zi.prototype={constructor:Ei,select:function(t){"function"!=typeof t&&(t=kn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,l,s=e[r],a=s.length,u=i[r]=new Array(a),c=0;c<a;++c)(o=s[c])&&(l=t.call(o,o.__data__,c,s))&&("__data__"in o&&(l.__data__=o.__data__),u[c]=l);return new Ei(i,this._parents)},selectAll:function(t){t="function"==typeof t?En(t):Cn(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var l,s=e[o],a=s.length,u=0;u<a;++u)(l=s[u])&&(i.push(t.call(l,l.__data__,u,s)),r.push(l));return new Ei(i,r)},selectChild:function(t){return this.select(null==t?Tn:function(t){return function(){return Nn.call(this.children,t)}}("function"==typeof t?t:On(t)))},selectChildren:function(t){return this.selectAll(null==t?Dn:function(t){return function(){return Fn.call(this.children,t)}}("function"==typeof t?t:On(t)))},filter:function(t){"function"!=typeof t&&(t=zn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,l=e[r],s=l.length,a=i[r]=[],u=0;u<s;++u)(o=l[u])&&t.call(o,o.__data__,u,l)&&a.push(o);return new Ei(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Vn);var n=e?Rn:Hn,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=r.length,l=new Array(o),s=new Array(o),a=new Array(o),u=0;u<o;++u){var c=i[u],h=r[u],f=h.length,d=jn(t.call(c,c&&c.__data__,u,i)),p=d.length,m=s[u]=new Array(p),g=l[u]=new Array(p);n(c,h,m,g,a[u]=new Array(f),d,e);for(var v,y,$=0,b=0;$<p;++$)if(v=m[$]){for($>=b&&(b=$+1);!(y=g[b])&&++b<p;);v._next=y||null}}return(l=new Ei(l,i))._enter=s,l._exit=a,l},enter:function(){return new Ei(this._enter||this._groups.map(Ln),this._parents)},exit:function(){return new Ei(this._exit||this._groups.map(Ln),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,l=Math.min(r,o),s=new Array(r),a=0;a<l;++a)for(var u,c=n[a],h=i[a],f=c.length,d=s[a]=new Array(f),p=0;p<f;++p)(u=c[p]||h[p])&&(d[p]=u);for(;a<r;++a)s[a]=n[a];return new Ei(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,l=r[o];--o>=0;)(i=r[o])&&(l&&4^i.compareDocumentPosition(l)&&l.parentNode.insertBefore(i,l),l=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=qn);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var l,s=n[o],a=s.length,u=r[o]=new Array(a),c=0;c<a;++c)(l=s[c])&&(u[c]=l);u.sort(e)}return new Ei(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var l=i[r];if(l)return l}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],l=0,s=o.length;l<s;++l)(r=o[l])&&t.call(r,r.__data__,l,o);return this},attr:function(t,e){var n=_n(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Gn:Bn:"function"==typeof e?n.local?Un:Kn:n.local?Xn:Wn)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Yn:"function"==typeof e?Jn:Zn)(t,e,null==n?"":n)):ti(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ei:"function"==typeof e?ii:ni)(t,e)):this.node()[t]},classed:function(t,e){var n=ri(t+"");if(arguments.length<2){for(var i=oi(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?hi:e?ui:ci)(n,e))},text:function(t){return arguments.length?this.each(null==t?fi:("function"==typeof t?pi:di)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?mi:("function"==typeof t?vi:gi)(t)):this.node().innerHTML},raise:function(){return this.each(yi)},lower:function(){return this.each($i)},append:function(t){var e="function"==typeof t?t:An(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:An(t),i=null==e?bi:"function"==typeof e?e:kn(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(wi)},clone:function(t){return this.select(t?xi:_i)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),l=o.length;if(!(arguments.length<2)){for(s=e?Ai:Si,i=0;i<l;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var a,u=0,c=s.length;u<c;++u)for(i=0,a=s[u];i<l;++i)if((r=o[i]).type===a.type&&r.name===a.name)return a.value},dispatch:function(t,e){return this.each(("function"==typeof e?Ii:ki)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],o=0,l=r.length;o<l;++o)(i=r[o])&&(yield i)}};const Ti=Math.sqrt,Fi=Math.PI,Di=2*Fi,Li=Math.PI,Pi=2*Li,Hi=1e-6,Ri=Pi-Hi;function Vi(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class ji{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Vi:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Vi;const n=10**e;return function(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,i){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,e,n,i,r,o){this._append`C${+t},${+e},${+n},${+i},${this._x1=+r},${this._y1=+o}`}arcTo(t,e,n,i,r){if(t=+t,e=+e,n=+n,i=+i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=this._x1,l=this._y1,s=n-t,a=i-e,u=o-t,c=l-e,h=u*u+c*c;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>Hi)if(Math.abs(c*s-a*u)>Hi&&r){let f=n-o,d=i-l,p=s*s+a*a,m=f*f+d*d,g=Math.sqrt(p),v=Math.sqrt(h),y=r*Math.tan((Li-Math.acos((p+h-m)/(2*g*v)))/2),$=y/v,b=y/g;Math.abs($-1)>Hi&&this._append`L${t+$*u},${e+$*c}`,this._append`A${r},${r},0,0,${+(c*f>u*d)},${this._x1=t+b*s},${this._y1=e+b*a}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,i,r,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),s=n*Math.sin(i),a=t+l,u=e+s,c=1^o,h=o?i-r:r-i;null===this._x1?this._append`M${a},${u}`:(Math.abs(this._x1-a)>Hi||Math.abs(this._y1-u)>Hi)&&this._append`L${a},${u}`,n&&(h<0&&(h=h%Pi+Pi),h>Ri?this._append`A${n},${n},0,1,${c},${t-l},${e-s}A${n},${n},0,1,${c},${this._x1=a},${this._y1=u}`:h>Hi&&this._append`A${n},${n},0,${+(h>=Li)},${c},${this._x1=t+n*Math.cos(r)},${this._y1=e+n*Math.sin(r)}`)}rect(t,e,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function qi(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new ji(e)}function Bi(t){this._context=t}function Gi(t){return new Bi(t)}function Wi(t){return t[0]}function Xi(t){return t[1]}function Ki(t,e){var n=Ni(!0),i=null,r=Gi,o=null,l=qi(s);function s(s){var a,u,c,h=(s=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(s)).length,f=!1;for(null==i&&(o=r(c=l())),a=0;a<=h;++a)!(a<h&&n(u=s[a],a,s))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(u,a,s),+e(u,a,s));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?Wi:Ni(t),e="function"==typeof e?e:void 0===e?Xi:Ni(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:Ni(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:Ni(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:Ni(!!t),s):n},s.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),s):r},s.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),s):i},s}Bi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Ui=Yi(Gi);function Qi(t){this._curve=t}function Yi(t){function e(e){return new Qi(t(e))}return e._curve=t,e}function Zi(){return t=Ki().curve(Ui),e=t.curve,t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Yi(t)):e()._curve},t;var t,e}Qi.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Ji={draw(t,e){const n=Ti(e/Fi);t.moveTo(n,0),t.arc(0,0,n,0,Di)}};const tr=Ti(1/3),er=2*tr;var nr={draw(t,e){const n=Ti(e/er),i=n*tr;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}};function ir(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function rr(t,e){this._context=t,this._k=(1-e)/6}rr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ir(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ir(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var or=function t(e){function n(t){return new rr(t,e)}return n.tension=function(e){return t(+e)},n}(0),lr={value:()=>{}};function sr(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new ar(i)}function ar(t){this._=t}function ur(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function cr(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=lr,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}ar.prototype=sr.prototype={constructor:ar,on:function(t,e){var n,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),l=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++l<s;)if(n=(t=o[l]).type)r[n]=cr(r[n],t.name,e);else if(null==e)for(n in r)r[n]=cr(r[n],t.name,null);return this}for(;++l<s;)if((n=(t=o[l]).type)&&(n=ur(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ar(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var hr,fr,dr=0,pr=0,mr=0,gr=1e3,vr=0,yr=0,$r=0,br="object"==typeof performance&&performance.now?performance:Date,wr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _r(){return yr||(wr(xr),yr=br.now()+$r)}function xr(){yr=0}function Sr(){this._call=this._time=this._next=null}function Ar(t,e,n){var i=new Sr;return i.restart(t,e,n),i}function Mr(){yr=(vr=br.now())+$r,dr=pr=0;try{!function(){_r(),++dr;for(var t,e=hr;e;)(t=yr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--dr}()}finally{dr=0,function(){var t,e,n=hr,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:hr=e);fr=t,Ir(i)}(),yr=0}}function kr(){var t=br.now(),e=t-vr;e>gr&&($r-=e,vr=t)}function Ir(t){dr||(pr&&(pr=clearTimeout(pr)),t-yr>24?(t<1/0&&(pr=setTimeout(Mr,t-br.now()-$r)),mr&&(mr=clearInterval(mr))):(mr||(vr=br.now(),mr=setInterval(kr,gr)),dr=1,wr(Mr)))}function Cr(t,e,n){var i=new Sr;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}Sr.prototype=Ar.prototype={constructor:Sr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?_r():+n)+(null==e?0:+e),this._next||fr===this||(fr?fr._next=this:hr=this,fr=this),this._call=t,this._time=n,Ir()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ir())}};var Er=sr("start","end","cancel","interrupt"),zr=[],Or=0,Nr=1,Tr=2,Fr=3,Dr=4,Lr=5,Pr=6;function Hr(t,e,n,i,r,o){var l=t.__transition;if(l){if(n in l)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(t){n.state=Nr,n.timer.restart(l,n.delay,n.time),n.delay<=t&&l(t-n.delay)}function l(o){var u,c,h,f;if(n.state!==Nr)return a();for(u in r)if((f=r[u]).name===n.name){if(f.state===Fr)return Cr(l);f.state===Dr?(f.state=Pr,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=Pr,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[u])}if(Cr((function(){n.state===Fr&&(n.state=Dr,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=Tr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Tr){for(n.state=Fr,i=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=f);i.length=c+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=Lr,1),o=-1,l=i.length;++o<l;)i[o].call(t,r);n.state===Lr&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var i in n.state=Pr,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=Ar(o,0,n.time)}(t,n,{name:e,index:i,group:r,on:Er,tween:zr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Or})}function Rr(t,e){var n=jr(t,e);if(n.state>Or)throw new Error("too late; already scheduled");return n}function Vr(t,e){var n=jr(t,e);if(n.state>Fr)throw new Error("too late; already running");return n}function jr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function qr(t,e){var n,i;return function(){var r=Vr(this,t),o=r.tween;if(o!==n)for(var l=0,s=(i=n=o).length;l<s;++l)if(i[l].name===e){(i=i.slice()).splice(l,1);break}r.tween=i}}function Br(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Vr(this,t),l=o.tween;if(l!==i){r=(i=l).slice();for(var s={name:e,value:n},a=0,u=r.length;a<u;++a)if(r[a].name===e){r[a]=s;break}a===u&&r.push(s)}o.tween=r}}function Gr(t,e,n){var i=t._id;return t.each((function(){var t=Vr(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return jr(t,i).value[e]}}function Wr(t,e){var n;return("number"==typeof e?Te:e instanceof he?Ee:(n=he(e))?(e=n,Ee):Pe)(t,e)}function Xr(t){return function(){this.removeAttribute(t)}}function Kr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ur(t,e,n){var i,r,o=n+"";return function(){var l=this.getAttribute(t);return l===o?null:l===i?r:r=e(i=l,n)}}function Qr(t,e,n){var i,r,o=n+"";return function(){var l=this.getAttributeNS(t.space,t.local);return l===o?null:l===i?r:r=e(i=l,n)}}function Yr(t,e,n){var i,r,o;return function(){var l,s,a=n(this);if(null!=a)return(l=this.getAttribute(t))===(s=a+"")?null:l===i&&s===r?o:(r=s,o=e(i=l,a));this.removeAttribute(t)}}function Zr(t,e,n){var i,r,o;return function(){var l,s,a=n(this);if(null!=a)return(l=this.getAttributeNS(t.space,t.local))===(s=a+"")?null:l===i&&s===r?o:(r=s,o=e(i=l,a));this.removeAttributeNS(t.space,t.local)}}function Jr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,r)),n}return r._value=e,r}function to(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,r)),n}return r._value=e,r}function eo(t,e){return function(){Rr(this,t).delay=+e.apply(this,arguments)}}function no(t,e){return e=+e,function(){Rr(this,t).delay=e}}function io(t,e){return function(){Vr(this,t).duration=+e.apply(this,arguments)}}function ro(t,e){return e=+e,function(){Vr(this,t).duration=e}}var oo=zi.prototype.constructor;function lo(t){return function(){this.style.removeProperty(t)}}var so=0;function ao(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function uo(){return++so}var co=zi.prototype;ao.prototype={constructor:ao,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=kn(t));for(var i=this._groups,r=i.length,o=new Array(r),l=0;l<r;++l)for(var s,a,u=i[l],c=u.length,h=o[l]=new Array(c),f=0;f<c;++f)(s=u[f])&&(a=t.call(s,s.__data__,f,u))&&("__data__"in s&&(a.__data__=s.__data__),h[f]=a,Hr(h[f],e,n,f,h,jr(s,n)));return new ao(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Cn(t));for(var i=this._groups,r=i.length,o=[],l=[],s=0;s<r;++s)for(var a,u=i[s],c=u.length,h=0;h<c;++h)if(a=u[h]){for(var f,d=t.call(a,a.__data__,h,u),p=jr(a,n),m=0,g=d.length;m<g;++m)(f=d[m])&&Hr(f,e,n,m,d,p);o.push(d),l.push(a)}return new ao(o,l,e,n)},selectChild:co.selectChild,selectChildren:co.selectChildren,filter:function(t){"function"!=typeof t&&(t=zn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,l=e[r],s=l.length,a=i[r]=[],u=0;u<s;++u)(o=l[u])&&t.call(o,o.__data__,u,l)&&a.push(o);return new ao(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),l=new Array(i),s=0;s<o;++s)for(var a,u=e[s],c=n[s],h=u.length,f=l[s]=new Array(h),d=0;d<h;++d)(a=u[d]||c[d])&&(f[d]=a);for(;s<i;++s)l[s]=e[s];return new ao(l,this._parents,this._name,this._id)},selection:function(){return new oo(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=uo(),i=this._groups,r=i.length,o=0;o<r;++o)for(var l,s=i[o],a=s.length,u=0;u<a;++u)if(l=s[u]){var c=jr(l,e);Hr(l,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ao(i,this._parents,t,n)},call:co.call,nodes:co.nodes,node:co.node,size:co.size,empty:co.empty,each:co.each,on:function(t,e){var n=this._id;return arguments.length<2?jr(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Rr:Vr;return function(){var l=o(this,t),s=l.on;s!==i&&(r=(i=s).copy()).on(e,n),l.on=r}}(n,t,e))},attr:function(t,e){var n=_n(t),i="transform"===n?Xe:Wr;return this.attrTween(t,"function"==typeof e?(n.local?Zr:Yr)(n,i,Gr(this,"attr."+t,e)):null==e?(n.local?Kr:Xr)(n):(n.local?Qr:Ur)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=_n(t);return this.tween(n,(i.local?Jr:to)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?We:Wr;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=ti(this,t),l=(this.style.removeProperty(t),ti(this,t));return o===l?null:o===n&&l===i?r:r=e(n=o,i=l)}}(t,i)).on("end.style."+t,lo(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var l=ti(this,t),s=n(this),a=s+"";return null==s&&(this.style.removeProperty(t),a=s=ti(this,t)),l===a?null:l===i&&a===r?o:(r=a,o=e(i=l,s))}}(t,i,Gr(this,"style."+t,e))).each(function(t,e){var n,i,r,o,l="style."+e,s="end."+l;return function(){var a=Vr(this,t),u=a.on,c=null==a.value[l]?o||(o=lo(e)):void 0;u===n&&r===c||(i=(n=u).copy()).on(s,r=c),a.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var l=ti(this,t);return l===o?null:l===i?r:r=e(i=l,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}(t,o,n)),i}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Gr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=jr(this.node(),n).tween,o=0,l=r.length;o<l;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?qr:Br)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?eo:no)(e,t)):jr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?io:ro)(e,t)):jr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Vr(this,t).ease=e}}(e,t)):jr(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Vr(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,l){var s={value:l},a={value:function(){0==--r&&o()}};n.each((function(){var n=Vr(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(a)),n.on=e})),0===r&&o()}))},[Symbol.iterator]:co[Symbol.iterator]};var ho={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function fo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}zi.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,i,r,o=t.__transition,l=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>Tr&&n.state<Lr,n.state=Pr,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):l=!1;l&&delete t.__transition}}(this,t)}))},zi.prototype.transition=function(t){var e,n;t instanceof ao?(e=t._id,t=t._name):(e=uo(),(n=ho).time=_r(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var l,s=i[o],a=s.length,u=0;u<a;++u)(l=s[u])&&Hr(l,t,e,u,s,n||fo(l,e));return new ao(i,this._parents,t,e)};const po=Math.PI/180;function mo(t,e){return e/Math.cos(t*po)}function go(t,e){return null==e?Math.round(t):Math.round(t*(e=Math.pow(10,e)))/e}function vo(t){return Array.apply(null,new Array(t)).map((()=>0))}function yo(t){return parseInt(t,10)}function $o(t){return+t}const bo=(t,e)=>[t*po,mo(t,e)];function wo(t){t.substring&&(t=document.getElementById(t.substring(1)));var e=function(){return t.offsetWidth},n=function(){const t=window.innerHeight;return Math.min(1.8*e(),t-60)};const i=function(){return Math.min(n()/1.8-20,e())-15},r=$n().domain([0,10]).range([0,i()]),o=Oi(t).append("svg").attr("width",e()).attr("height",n()).append("g").attr("transform",`translate(10, ${n()/2.2})`),l=o.append("g").selectAll("g").data([2,4,6,8,10,12,14,16]).enter().append("g").attr("class",(t=>`r axis sog-${t}`));l.append("circle").attr("r",r),l.append("text").attr("y",(t=>-r(t)-2)).attr("transform","rotate(25)").style("text-anchor","middle").text((t=>t<=10?`${t}kts`:""));const s=o.append("g").attr("class","a axis").selectAll("g").data([0,45,52,60,75,90,110,120,135,150,165]).enter().append("g").attr("transform",(t=>`rotate(${t-90})`));s.append("line").attr("x1",r(1)).attr("x2",i());const a=function(t){t.attr("x",i()+6).attr("dy",".35em").attr("transform",(t=>t>90?`rotate(0 ${i()+8}, 0)`:null)).text((t=>`${t}°`))};s.append("text").attr("class","xlabel").call(a);var u,c,h=Zi().radius((t=>r(t[1]))).angle((t=>t[0])).curve(or),f=function(t,e){return function(n){n.attr("transform",(t=>`translate(${r(t[1])*Math.sin(t[0])}, ${r(t[1])*-Math.cos(t[0])})`)),n.attr("d",function(t,e){let n=null,i=qi(r);function r(){let r;if(n||(n=r=i()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return t="function"==typeof t?t:Ni(t||Ji),e="function"==typeof e?e:Ni(void 0===e?64:+e),r.type=function(e){return arguments.length?(t="function"==typeof e?e:Ni(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:Ni(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}(t||nr,e||32))}},d=function(){};d.render=function(t){u="vpp"in t?t.vpp:t;const{vpp_data:e,run_data:n}=function(t){const e=t.angles.map((t=>t*po));let n=[];const i=t.speeds.map((function(i,r){var o=Gt(e,t.angles.map((e=>t[e][r])));if(o=o.filter((t=>t[1]>0)),t.beat_angle&&o.unshift(bo(t.beat_angle[r],t.beat_vmg[r])),t.run_angle){var l=bo(t.run_angle[r],-t.run_vmg[r]);o.push(l),n.push(l)}return o.sort(((t,e)=>t[0]-e[0]))}));return{vpp_data:i,run_data:n}}(u);var i=function(t){return e=>e.attr("class",((e,n)=>`${t} tws-${u.speeds[n]}`))},r=o.selectAll(".vmg-run").data(n);r.exit().remove(),r.enter().append("path").call(i("vmg-run")).merge(r).transition().duration(200).call(f());var l=o.selectAll(".line").data(e);l.exit().remove(),l.enter().append("path").call(i("line")).merge(l).transition().duration(200).attr("d",h)},Oi(window).on("mouseover",(function(t){var e=Oi(t.target).attr("class");if(e&&"tws-"===e.substring(0,4)){var n=Oi(t.target.parentNode),i=n?n.attr("class"):"";if(e&&"tws-"===e.substring(0,4)&&i&&"twa-"===i.substring(0,4)){var r=+e.substring(4),l=+i.substring(4);const t=u[l][u.speeds.indexOf(r)];c=o.selectAll(".highlight").data([[l*po,t]])}else c=o.selectAll(".highlight").data([]);c.exit().remove(),c.enter().append("path").merge(c).attr("class","highlight "+(r?"tws-"+r:"")).transition().duration(50).call(f(Ji,80))}else o.selectAll(".highlight").data([]).exit().remove()}));var p=e();return d.resize=function(){e()!==p&&(o.attr({width:e(),height:n(),transform:`translate(10, ${n()/2}})`}),r.range([0,i()]),l.selectAll(".axis.r circle").attr("r",r),l.selectAll(".axis.r text").attr("y",(t=>-r(t)-4)),s.selectAll("line").attr("x2",i()),o.selectAll(".xlabel").call(a),o.selectAll(".line").transition().duration(200).attr("d",h),o.selectAll(".vmg-run").transition().duration(200).call(f()),p=e())},d}function _o(e){let n,i,r;return{c(){n=I("div")},m(t,o){A(t,n,o),e[4](n),i||(r=N(window,"resize",e[3]),i=!0)},p:t,i:t,o:t,d(t){t&&M(n),e[4](null),i=!1,r()}}}function xo(t,e,n){let i,r,{boat:o}=e;var l;l=()=>{r||n(1,r=wo(i)),r.render(o)},Y().$$.after_update.push(l);return t.$$set=t=>{"boat"in t&&n(2,o=t.boat)},[i,r,o,()=>r&&r.resize(),function(t){it[t?"unshift":"push"]((()=>{i=t,n(0,i)}))}]}class So extends Ot{constructor(t){super(),zt(this,t,xo,_o,l,{boat:2})}}function Ao(t,e,n){const i=t.slice();return i[1]=e[n],i[3]=n,i}function Mo(t,e,n){const i=t.slice();return i[4]=e[n],i[3]=n,i}function ko(t,e,n){const i=t.slice();return i[1]=e[n],i}function Io(t,e,n){const i=t.slice();return i[8]=e[n],i[3]=n,i}function Co(t,e,n){const i=t.slice();return i[8]=e[n],i[3]=n,i}function Eo(t,e,n){const i=t.slice();return i[1]=e[n],i[3]=n,i}function zo(t,e,n){const i=t.slice();return i[8]=e[n],i}function Oo(t){let e,n,i,r,o=t[8]+"";return{c(){e=I("th"),n=E(o),i=E("kts"),F(e,"class",r="tws-"+t[8])},m(t,r){A(t,e,r),_(e,n),_(e,i)},p(t,i){1&i&&o!==(o=t[8]+"")&&D(n,o),1&i&&r!==(r="tws-"+t[8])&&F(e,"class",r)},d(t){t&&M(e)}}}function No(t){let e,n,i,r,o=t[1]+"";return{c(){e=I("td"),n=E(o),i=E("°"),F(e,"class",r="tws-"+t[0].speeds[t[3]])},m(t,r){A(t,e,r),_(e,n),_(e,i)},p(t,i){1&i&&o!==(o=t[1]+"")&&D(n,o),1&i&&r!==(r="tws-"+t[0].speeds[t[3]])&&F(e,"class",r)},d(t){t&&M(e)}}}function To(t){let e,n,i,r=t[8]+"";return{c(){e=I("td"),n=E(r),F(e,"class",i="tws-"+t[0].speeds[t[3]])},m(t,i){A(t,e,i),_(e,n)},p(t,o){1&o&&r!==(r=t[8]+"")&&D(n,r),1&o&&i!==(i="tws-"+t[0].speeds[t[3]])&&F(e,"class",i)},d(t){t&&M(e)}}}function Fo(t){let e,n,i,r=t[8]+"";return{c(){e=I("td"),n=E(r),F(e,"class",i="tws-"+t[0].speeds[t[3]])},m(t,i){A(t,e,i),_(e,n)},p(t,o){1&o&&r!==(r=t[8]+"")&&D(n,r),1&o&&i!==(i="tws-"+t[0].speeds[t[3]])&&F(e,"class",i)},d(t){t&&M(e)}}}function Do(t){let e,n,i,r,o,l,s=t[1]+"",a=t[0][""+t[1]],u=[];for(let e=0;e<a.length;e+=1)u[e]=Fo(Io(t,a,e));return{c(){e=I("tr"),n=I("td"),i=E(s),r=E("°"),o=z();for(let t=0;t<u.length;t+=1)u[t].c();F(e,"class",l="twa-"+t[1])},m(t,l){A(t,e,l),_(e,n),_(n,i),_(n,r),_(e,o);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(e,null)},p(t,n){if(1&n&&s!==(s=t[1]+"")&&D(i,s),1&n){let i;for(a=t[0][""+t[1]],i=0;i<a.length;i+=1){const r=Io(t,a,i);u[i]?u[i].p(r,n):(u[i]=Fo(r),u[i].c(),u[i].m(e,null))}for(;i<u.length;i+=1)u[i].d(1);u.length=a.length}1&n&&l!==(l="twa-"+t[1])&&F(e,"class",l)},d(t){t&&M(e),k(u,t)}}}function Lo(t){let e,n,i,r=t[4]+"";return{c(){e=I("td"),n=E(r),F(e,"class",i="tws-"+t[0].speeds[t[3]])},m(t,i){A(t,e,i),_(e,n)},p(t,o){1&o&&r!==(r=t[4]+"")&&D(n,r),1&o&&i!==(i="tws-"+t[0].speeds[t[3]])&&F(e,"class",i)},d(t){t&&M(e)}}}function Po(t){let e,n,i,r,o=t[1]+"";return{c(){e=I("td"),n=E(o),i=E("°"),F(e,"class",r="tws-"+t[0].speeds[t[3]])},m(t,r){A(t,e,r),_(e,n),_(e,i)},p(t,i){1&i&&o!==(o=t[1]+"")&&D(n,o),1&i&&r!==(r="tws-"+t[0].speeds[t[3]])&&F(e,"class",r)},d(t){t&&M(e)}}}function Ho(e){let n,i,r,o,l,s,a,u,c,h,f,d,p,m,g,v,y,$,b,w,x,S,C,E=e[0].speeds,O=[];for(let t=0;t<E.length;t+=1)O[t]=Oo(zo(e,E,t));let N=e[0].beat_angle,T=[];for(let t=0;t<N.length;t+=1)T[t]=No(Eo(e,N,t));let D=e[0].beat_vmg,L=[];for(let t=0;t<D.length;t+=1)L[t]=To(Co(e,D,t));let P=e[0].angles,H=[];for(let t=0;t<P.length;t+=1)H[t]=Do(ko(e,P,t));let R=e[0].run_vmg,V=[];for(let t=0;t<R.length;t+=1)V[t]=Lo(Mo(e,R,t));let j=e[0].run_angle,q=[];for(let t=0;t<j.length;t+=1)q[t]=Po(Ao(e,j,t));return{c(){n=I("table"),i=I("thead"),r=I("tr"),o=I("th"),o.textContent="Wind velocity",l=z();for(let t=0;t<O.length;t+=1)O[t].c();s=z(),a=I("tbody"),u=I("tr"),c=I("td"),c.textContent="Beat angle",h=z();for(let t=0;t<T.length;t+=1)T[t].c();f=z(),d=I("tr"),p=I("td"),p.textContent="Beat VMG",m=z();for(let t=0;t<L.length;t+=1)L[t].c();g=z();for(let t=0;t<H.length;t+=1)H[t].c();v=z(),y=I("tr"),$=I("td"),$.textContent="Run VMG",b=z();for(let t=0;t<V.length;t+=1)V[t].c();w=z(),x=I("tr"),S=I("td"),S.textContent="Run angle",C=z();for(let t=0;t<q.length;t+=1)q[t].c();F(n,"class","table table-sm polar-table")},m(t,e){A(t,n,e),_(n,i),_(i,r),_(r,o),_(r,l);for(let t=0;t<O.length;t+=1)O[t]&&O[t].m(r,null);_(n,s),_(n,a),_(a,u),_(u,c),_(u,h);for(let t=0;t<T.length;t+=1)T[t]&&T[t].m(u,null);_(a,f),_(a,d),_(d,p),_(d,m);for(let t=0;t<L.length;t+=1)L[t]&&L[t].m(d,null);_(a,g);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(a,null);_(a,v),_(a,y),_(y,$),_(y,b);for(let t=0;t<V.length;t+=1)V[t]&&V[t].m(y,null);_(a,w),_(a,x),_(x,S),_(x,C);for(let t=0;t<q.length;t+=1)q[t]&&q[t].m(x,null)},p(t,[e]){if(1&e){let n;for(E=t[0].speeds,n=0;n<E.length;n+=1){const i=zo(t,E,n);O[n]?O[n].p(i,e):(O[n]=Oo(i),O[n].c(),O[n].m(r,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=E.length}if(1&e){let n;for(N=t[0].beat_angle,n=0;n<N.length;n+=1){const i=Eo(t,N,n);T[n]?T[n].p(i,e):(T[n]=No(i),T[n].c(),T[n].m(u,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=N.length}if(1&e){let n;for(D=t[0].beat_vmg,n=0;n<D.length;n+=1){const i=Co(t,D,n);L[n]?L[n].p(i,e):(L[n]=To(i),L[n].c(),L[n].m(d,null))}for(;n<L.length;n+=1)L[n].d(1);L.length=D.length}if(1&e){let n;for(P=t[0].angles,n=0;n<P.length;n+=1){const i=ko(t,P,n);H[n]?H[n].p(i,e):(H[n]=Do(i),H[n].c(),H[n].m(a,v))}for(;n<H.length;n+=1)H[n].d(1);H.length=P.length}if(1&e){let n;for(R=t[0].run_vmg,n=0;n<R.length;n+=1){const i=Mo(t,R,n);V[n]?V[n].p(i,e):(V[n]=Lo(i),V[n].c(),V[n].m(y,null))}for(;n<V.length;n+=1)V[n].d(1);V.length=R.length}if(1&e){let n;for(j=t[0].run_angle,n=0;n<j.length;n+=1){const i=Ao(t,j,n);q[n]?q[n].p(i,e):(q[n]=Po(i),q[n].c(),q[n].m(x,null))}for(;n<q.length;n+=1)q[n].d(1);q.length=j.length}},i:t,o:t,d(t){t&&M(n),k(O,t),k(T,t),k(L,t),k(H,t),k(V,t),k(q,t)}}}function Ro(t,e,n){let{vpp:i}=e;return t.$$set=t=>{"vpp"in t&&n(0,i=t.vpp)},[i]}class Vo extends Ot{constructor(t){super(),zt(this,t,Ro,Ho,l,{vpp:0})}}const jo="twa/tws",qo=";";function Bo(t,e){var n="vpp"in t?t.vpp:t,i=[[jo,...n.speeds],vo(n.speeds.length+1)];return e&&n.beat_angle.forEach((function(t,e){var r=[t,...vo(n.speeds.length)];r[e+1]=go(mo(t,n.beat_vmg[e]),2),i.push(r)})),n.angles.forEach((function(t){i.push([t].concat(n[t]))})),e&&n.run_angle.forEach((function(t,e){var r=[t,...vo(n.speeds.length)];r[e+1]=go(mo(t,-n.run_vmg[e]),2),i.push(r)})),i.map((t=>t.join(qo))).join("\n")}let Go;async function Wo(){return Go||(Go=await fetch("index.json").then((t=>t.json())).then((t=>t.map((([t,e,n])=>({sailnumber:t,name:e,type:n})))))),Go}async function Xo(){const t=await Wo();return(e=t,e[Math.floor(Math.random()*e.length)]).sailnumber;var e}let Ko={};function Uo(t){return t in Ko?new Promise((e=>e(Ko[t]))):fetch(`data/${t}.json`).then((e=>(Ko[t]=e.json(),Ko[t])))}function Qo(t,e,n){const i=t.slice();return i[9]=e[n][0],i[10]=e[n][1],i}function Yo(t,e,n){const i=t.slice();return i[9]=e[n][0],i[10]=e[n][1],i}function Zo(t){let e,n,i,r,o,l,s,a,u,c,h,f,d,p,m,g,v,y,$,b,w,x,S,C,O,T,L,P,H,V,j,q,B,G,W,X,K,U,Q,Y,Z,J,tt,et,nt,it,rt,ot,lt,st,at,ut,ct,ht,ft,dt,pt,mt,gt,vt,yt,$t,_t,xt,St,At,Mt,kt,zt,Ot,Nt,Tt,Ft,Dt,Lt,Pt=t[0].sailnumber+"",Ht=t[0].boat.type+"",Rt=t[0].boat.designer+"",Vt=t[2].loa+"",jt=t[2].beam+"",qt=t[2].draft+"",Bt=t[2].displacement+"",Gt=t[3].gph+"",Wt=t[3].osn+"",Xt=(t[0].boat.stability_index||"?")+"",Kt=t[3].triple_inshore.join(" ")+"",Ut=t[3].triple_offshore.join(" ")+"";function Qt(t,e){return t[0].name?tl:Jo}i=new So({props:{boat:t[0]}});let Yt=Qt(t),Zt=Yt(t),Jt=t[4],te=[];for(let e=0;e<Jt.length;e+=1)te[e]=el(Yo(t,Jt,e));let ee=t[4],ne=[];for(let e=0;e<ee.length;e+=1)ne[e]=nl(Qo(t,ee,e));return $t=new Vo({props:{vpp:t[0].vpp}}),{c(){e=I("div"),n=I("div"),It(i.$$.fragment),r=z(),o=I("div"),l=I("h1"),Zt.c(),s=z(),a=I("table"),u=I("tr"),u.innerHTML='<th class="svelte-1on5qv8">Sail number</th><th class="svelte-1on5qv8">Type</th><th class="svelte-1on5qv8">Designer</th>',c=z(),h=I("tr"),f=I("td"),d=E(Pt),p=I("td"),m=E(Ht),g=I("td"),v=E(Rt),y=z(),$=I("tr"),$.innerHTML='<th class="svelte-1on5qv8">Length</th><th class="svelte-1on5qv8">Beam</th><th class="svelte-1on5qv8">Draft</th><th class="svelte-1on5qv8">Displacement</th>',b=z(),w=I("tr"),x=I("td"),S=E(Vt),C=E(" m"),O=z(),T=I("td"),L=E(jt),P=E(" m"),H=z(),V=I("td"),j=E(qt),q=E(" m"),B=z(),G=I("td"),W=E(Bt),X=E(" kg"),K=z(),U=I("tr");for(let t=0;t<te.length;t+=1)te[t].c();Q=z(),Y=I("tr");for(let t=0;t<ne.length;t+=1)ne[t].c();Z=z(),J=I("tr"),J.innerHTML='<th class="svelte-1on5qv8">GPH</th><th class="svelte-1on5qv8">OSH</th><th class="svelte-1on5qv8">Stability index</th>',tt=z(),et=I("tr"),nt=I("td"),it=E(Gt),rt=I("td"),ot=E(Wt),lt=I("td"),st=E(Xt),at=z(),ut=I("tr"),ct=I("th"),ct.textContent="Inshore TN",ht=I("td"),ft=E(Kt),dt=z(),pt=I("tr"),mt=I("th"),mt.textContent="Offshore TN",gt=I("td"),vt=E(Ut),yt=z(),It($t.$$.fragment),_t=z(),xt=I("h5"),St=E("Polar (CSV)\n                "),At=I("small"),Mt=I("label"),kt=I("input"),zt=E("\n                        Extended CSV (including beat and run angles)"),Ot=z(),Nt=I("textarea"),F(n,"class","col-sm"),F(ct,"class","svelte-1on5qv8"),F(ht,"colspan","3"),F(mt,"class","svelte-1on5qv8"),F(gt,"colspan","3"),F(a,"class","table"),F(kt,"type","checkbox"),Nt.value=Tt=Bo(t[0],t[1])+" ",R(Nt,"extended",t[1]),F(o,"class","col-sm"),F(e,"class","row p-2")},m(M,k){A(M,e,k),_(e,n),Ct(i,n,null),_(e,r),_(e,o),_(o,l),Zt.m(l,null),_(o,s),_(o,a),_(a,u),_(a,c),_(a,h),_(h,f),_(f,d),_(h,p),_(p,m),_(h,g),_(g,v),_(a,y),_(a,$),_(a,b),_(a,w),_(w,x),_(x,S),_(x,C),_(w,O),_(w,T),_(T,L),_(T,P),_(w,H),_(w,V),_(V,j),_(V,q),_(w,B),_(w,G),_(G,W),_(G,X),_(a,K),_(a,U);for(let t=0;t<te.length;t+=1)te[t]&&te[t].m(U,null);_(a,Q),_(a,Y);for(let t=0;t<ne.length;t+=1)ne[t]&&ne[t].m(Y,null);_(a,Z),_(a,J),_(a,tt),_(a,et),_(et,nt),_(nt,it),_(et,rt),_(rt,ot),_(et,lt),_(lt,st),_(a,at),_(a,ut),_(ut,ct),_(ut,ht),_(ht,ft),_(a,dt),_(a,pt),_(pt,mt),_(pt,gt),_(gt,vt),_(o,yt),Ct($t,o,null),_(o,_t),_(o,xt),_(xt,St),_(xt,At),_(At,Mt),_(Mt,kt),kt.checked=t[1],_(Mt,zt),_(o,Ot),_(o,Nt),Ft=!0,Dt||(Lt=N(kt,"change",t[6]),Dt=!0)},p(t,e){const n={};if(1&e&&(n.boat=t[0]),i.$set(n),Yt===(Yt=Qt(t))&&Zt?Zt.p(t,e):(Zt.d(1),Zt=Yt(t),Zt&&(Zt.c(),Zt.m(l,null))),(!Ft||1&e)&&Pt!==(Pt=t[0].sailnumber+"")&&D(d,Pt),(!Ft||1&e)&&Ht!==(Ht=t[0].boat.type+"")&&D(m,Ht),(!Ft||1&e)&&Rt!==(Rt=t[0].boat.designer+"")&&D(v,Rt),(!Ft||4&e)&&Vt!==(Vt=t[2].loa+"")&&D(S,Vt),(!Ft||4&e)&&jt!==(jt=t[2].beam+"")&&D(L,jt),(!Ft||4&e)&&qt!==(qt=t[2].draft+"")&&D(j,qt),(!Ft||4&e)&&Bt!==(Bt=t[2].displacement+"")&&D(W,Bt),16&e){let n;for(Jt=t[4],n=0;n<Jt.length;n+=1){const i=Yo(t,Jt,n);te[n]?te[n].p(i,e):(te[n]=el(i),te[n].c(),te[n].m(U,null))}for(;n<te.length;n+=1)te[n].d(1);te.length=Jt.length}if(16&e){let n;for(ee=t[4],n=0;n<ee.length;n+=1){const i=Qo(t,ee,n);ne[n]?ne[n].p(i,e):(ne[n]=nl(i),ne[n].c(),ne[n].m(Y,null))}for(;n<ne.length;n+=1)ne[n].d(1);ne.length=ee.length}(!Ft||8&e)&&Gt!==(Gt=t[3].gph+"")&&D(it,Gt),(!Ft||8&e)&&Wt!==(Wt=t[3].osn+"")&&D(ot,Wt),(!Ft||1&e)&&Xt!==(Xt=(t[0].boat.stability_index||"?")+"")&&D(st,Xt),(!Ft||8&e)&&Kt!==(Kt=t[3].triple_inshore.join(" ")+"")&&D(ft,Kt),(!Ft||8&e)&&Ut!==(Ut=t[3].triple_offshore.join(" ")+"")&&D(vt,Ut);const r={};1&e&&(r.vpp=t[0].vpp),$t.$set(r),2&e&&(kt.checked=t[1]),(!Ft||3&e&&Tt!==(Tt=Bo(t[0],t[1])+" "))&&(Nt.value=Tt),(!Ft||2&e)&&R(Nt,"extended",t[1])},i(t){Ft||(bt(i.$$.fragment,t),bt($t.$$.fragment,t),Ft=!0)},o(t){wt(i.$$.fragment,t),wt($t.$$.fragment,t),Ft=!1},d(t){t&&M(e),Et(i),Zt.d(),k(te,t),k(ne,t),Et($t),Dt=!1,Lt()}}}function Jo(e){let n;return{c(){n=I("span"),n.textContent="Name unknown",F(n,"class","text-muted")},m(t,e){A(t,n,e)},p:t,d(t){t&&M(n)}}}function tl(t){let e,n=t[0].name+"";return{c(){e=E(n)},m(t,n){A(t,e,n)},p(t,i){1&i&&n!==(n=t[0].name+"")&&D(e,n)},d(t){t&&M(e)}}}function el(t){let e,n,i=t[9]+"";return{c(){e=I("th"),n=E(i),F(e,"class","svelte-1on5qv8")},m(t,i){A(t,e,i),_(e,n)},p(t,e){16&e&&i!==(i=t[9]+"")&&D(n,i)},d(t){t&&M(e)}}}function nl(t){let e,n,i=t[10]+"";return{c(){e=I("td"),n=E(i)},m(t,i){A(t,e,i),_(e,n)},p(t,e){16&e&&i!==(i=t[10]+"")&&D(n,i)},d(t){t&&M(e)}}}function il(t){let e,n,i=t[0]&&Zo(t);return{c(){i&&i.c(),e=O()},m(t,r){i&&i.m(t,r),A(t,e,r),n=!0},p(t,[n]){t[0]?i?(i.p(t,n),1&n&&bt(i,1)):(i=Zo(t),i.c(),bt(i,1),i.m(e.parentNode,e)):i&&(yt(),wt(i,1,1,(()=>{i=null})),$t())},i(t){n||(bt(i),n=!0)},o(t){wt(i),n=!1},d(t){i&&i.d(t),t&&M(e)}}}function rl(t,e,n){let i,r,o,l,{sailnumber:s}=e,a=!1;async function u(t){n(0,i=await Uo(t)),n(2,r=i.boat.sizes),n(3,o=i.rating),n(4,l=function(){const t=i.boat.sizes,e=[["Main",t.main+"m²"],["Genoa",t.genoa+"m²"]];t.spinnaker>0&&e.push(["Spinnaker",t.spinnaker+"m²"]);t.spinnaker_asym>0&&e.push(["Asym. spinnaker",t.spinnaker_asym+"m²"]);return e}())}return t.$$set=t=>{"sailnumber"in t&&n(5,s=t.sailnumber)},t.$$.update=()=>{32&t.$$.dirty&&s&&u(s)},[i,a,r,o,l,s,function(){a=this.checked,n(1,a)}]}class ol extends Ot{constructor(t){super(),zt(this,t,rl,il,l,{sailnumber:5})}}var ll=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};ll.prototype.tokenize=function(t,e){if(!(t=cl(String(t||"").toLowerCase()))||!t.length)return[];var n,i,r,o,l=[],s=t.split(/ +/);for(n=0,i=s.length;n<i;n++){if(r=hl(s[n]),this.settings.diacritics)for(o in fl)fl.hasOwnProperty(o)&&(r=r.replace(new RegExp(o,"g"),fl[o]));e&&(r="\\b"+r),l.push({string:s[n],regex:new RegExp(r,"i")})}return l},ll.prototype.iterator=function(t,e){var n;n=Array.isArray(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},n.apply(t,[e])},ll.prototype.getScoreFunction=function(t,e){var n,i,r,o;t=this.prepareSearch(t,e),i=t.tokens,n=t.options.fields,r=i.length,o=t.options.nesting;var l,s=function(t,e){var n,i;return t?-1===(i=(t=String(t||"")).search(e.regex))?0:(n=e.string.length/t.length,0===i&&(n+=.5),n):0},a=(l=n.length)?1===l?function(t,e){return s(ul(e,n[0],o),t)}:function(t,e){for(var i=0,r=0;i<l;i++)r+=s(ul(e,n[i],o),t);return r/l}:function(){return 0};return r?1===r?function(t){return a(i[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,o=0;n<r;n++){if((e=a(i[n],t))<=0)return 0;o+=e}return o/r}:function(t){for(var e=0,n=0;e<r;e++)n+=a(i[e],t);return n/r}:function(){return 0}},ll.prototype.getSortFunction=function(t,e){var n,i,r,o,l,s,a,u,c,h,f;if(f=!(t=(r=this).prepareSearch(t,e)).query&&e.sort_empty||e.sort,c=function(t,n){return"$score"===t?n.score:ul(r.items[n.id],t,e.nesting)},l=[],f)for(n=0,i=f.length;n<i;n++)(t.query||"$score"!==f[n].field)&&l.push(f[n]);if(t.query){for(h=!0,n=0,i=l.length;n<i;n++)if("$score"===l[n].field){h=!1;break}h&&l.unshift({field:"$score",direction:"desc"})}else for(n=0,i=l.length;n<i;n++)if("$score"===l[n].field){l.splice(n,1);break}for(u=[],n=0,i=l.length;n<i;n++)u.push("desc"===l[n].direction?-1:1);return(s=l.length)?1===s?(o=l[0].field,a=u[0],function(t,e){return a*sl(c(o,t),c(o,e))}):function(t,e){var n,i,r;for(n=0;n<s;n++)if(r=l[n].field,i=u[n]*sl(c(r,t),c(r,e)))return i;return 0}:null},ll.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;var n=(e=al({},e)).fields,i=e.sort,r=e.sort_empty;return n&&!Array.isArray(n)&&(e.fields=[n]),i&&!Array.isArray(i)&&(e.sort=[i]),r&&!Array.isArray(r)&&(e.sort_empty=[r]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t,e.respect_word_boundaries),total:0,items:[]}},ll.prototype.search=function(t,e){var n,i,r,o,l=this;return i=this.prepareSearch(t,e),e=i.options,t=i.query,o=e.score||l.getScoreFunction(i),t.length?l.iterator(l.items,(function(t,r){n=o(t),(!1===e.filter||n>0)&&i.items.push({score:n,id:r})})):l.iterator(l.items,(function(t,e){i.items.push({score:1,id:e})})),(r=l.getSortFunction(i,e))&&i.items.sort(r),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var sl=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=dl(String(t||"")))>(e=dl(String(e||"")))?1:e>t?-1:0},al=function(t,e){var n,i,r,o;for(n=1,i=arguments.length;n<i;n++)if(o=arguments[n])for(r in o)o.hasOwnProperty(r)&&(t[r]=o[r]);return t},ul=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},cl=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},hl=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},fl={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"};const dl=function(){var t,e,n,i,r="",o={};for(n in fl)if(fl.hasOwnProperty(n))for(r+=i=fl[n].substring(2,fl[n].length-1),t=0,e=i.length;t<e;t++)o[i.charAt(t)]=n;var l=new RegExp("["+r+"]","g");return function(t){return t.replace(l,(function(t){return o[t]})).toLowerCase()}}();let pl,ml=null;function gl(t,e,n,i,r){const o=i?i(t,e,n):t;if(""==n||t.isSelected||r)return'<div class="sv-item-content">'+o+"</div>";pl||(pl=document.createElement("div"),pl.className="sv-item-content"),pl.innerHTML=o;return dl(n).split(" ").filter((t=>t)).forEach((t=>{vl(pl,t)})),pl.outerHTML}const vl=function(t,e){let n=0;if(3===t.nodeType){const i=dl(t.data);let r=i.indexOf(e);if(r-=i.substr(0,r).toUpperCase().length-i.substr(0,r).length,r>=0){const i=document.createElement("span");i.className="highlight";const o=t.splitText(r);o.splitText(e.length);const l=o.cloneNode(!0);i.appendChild(l),o.parentNode.replaceChild(i,o),n=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&("highlight"!==t.className||"SPAN"!==t.tagName))for(var i=0;i<t.childNodes.length;++i)i+=vl(t.childNodes[i],e);return n};function yl(t,e,n){const i="value"===t;if(n.isOptionArray)return i?"value":"label";let r=i?"value":"text";if(e&&e.length){const t=e[0][n.optItems]?e[0][n.optItems][0]:e[0];if(!t)return r;const o=i?0:1,l=i?["id","value","ID"]:["name","title","label"];r=Object.keys(t).filter((t=>l.includes(t))).concat([Object.keys(t)[o]]).shift()}return r}function $l(t,e){return(t||"").replace(/\t/g," ").trim().split(" ").filter((t=>t)).join(" ")}function bl(t,e,n,i){return{[n]:t,[i]:e+t}}const wl={disabled:!1,valueField:null,labelField:null,groupLabelField:"label",groupItemsField:"options",disabledField:"$disabled",placeholder:"Select",valueAsObject:!1,searchable:!0,clearable:!1,selectOnTab:null,resetOnBlur:!0,resetOnSelect:!0,fetchResetOnBlur:!0,multiple:!1,closeAfterSelect:!1,max:0,collapseSelection:!1,alwaysCollapsed:!1,creatable:!1,creatablePrefix:"*",keepCreated:!0,allowEditing:!1,delimiter:",",fetchCallback:null,minQuery:1,lazyDropdown:!0,virtualList:!1,vlItemSize:null,vlHeight:null,i18n:{empty:"No options",nomatch:"No matching options",max:t=>`Maximum items ${t} selected`,fetchBefore:"Type to start searching",fetchQuery:(t,e)=>`Type ${t>1&&t>e?`at least ${t-e} characters `:""}to start searching`,fetchInit:"Fetching data, please wait...",fetchEmpty:"No data related to your search",collapsedSelection:t=>`${t} selected`,createRowLabel:t=>`Create '${t}'`},collapseSelectionFn:function(t,e){return this.collapsedSelection(t)}},_l=[];function xl(e,n=t){let i;const r=new Set;function o(t){if(l(e,t)&&(e=t,i)){const t=!_l.length;for(const t of r)t[1](),_l.push(t,e);if(t){for(let t=0;t<_l.length;t+=2)_l[t][0](_l[t+1]);_l.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(l,s=t){const a=[l,s];return r.add(a),1===r.size&&(i=n(o)||t),l(e),()=>{r.delete(a),0===r.size&&i&&(i(),i=null)}}}}function Sl(t,e,n){if(e)return Array.isArray(t)?t:[t];const i=Array.isArray(t)?t:[t],r=n.labelAsValue?n.labelField:n.valueField;return this.reduce(((t,e,o)=>{if(e[n.optItems]&&e[n.optItems].length){const o=e[n.optItems].reduce(((t,e)=>(i.includes(e[r])&&t.push(e),t)),[]);if(o.length)return t.push(...o),t}return i.includes("object"==typeof e?e[r]:n.labelAsValue?e:o)&&(n.isOptionArray&&(e={[n.valueField]:o,[n.labelField]:e}),t.push(e)),t}),[]).sort(((t,e)=>i.indexOf(t[r])<i.indexOf(e[r])?-1:1))}function Al(t,e){const n=t.reduce(((t,n,i)=>e.isOptionArray?(t.push({[e.valueField]:i,[e.labelField]:n}),t):n[e.optItems]&&n[e.optItems].length?(e.optionsWithGroups=!0,t.push({label:n[e.optLabel],$isGroupHeader:!0}),t.push(...n[e.optItems].map((t=>(t.$isGroupItem=!0,t)))),t):(t.push(n),t)),[]);return function(t,e){e.isOptionArray&&(e.optionProps||(e.optionProps=["value","label"]));t.some((t=>!t.$isGroupHeader&&(e.optionProps=Ml(t),!0)))}(n,e),n}function Ml(t){t.options&&(t=t.options[0]);const e=["$disabled","$isGroupHeader","$isGroupItem"];return Object.keys(t).filter((t=>!e.includes(t)))}function kl(t){const e=t-1;return e*e*e+1}function Il(t,{from:e,to:n},i={}){const r=getComputedStyle(t),l="none"===r.transform?"":r.transform,[s,a]=r.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*s/n.width-(n.left+s),c=e.top+e.height*a/n.height-(n.top+a),{delay:h=0,duration:f=(t=>120*Math.sqrt(t)),easing:d=kl}=i;return{delay:h,duration:o(f)?f(Math.sqrt(u*u+c*c)):f,easing:d,css:(t,i)=>{const r=i*u,o=i*c,s=t+i*e.width/n.width,a=t+i*e.height/n.height;return`transform: ${l} translate(${r}px, ${o}px) scale(${s}, ${a});`}}}function Cl(e){let n,i,o,l,s,a,u,c;return{c(){n=I("input"),o=z(),l=I("div"),s=E(e[12]),F(n,"type","text"),F(n,"class","inputBox svelte-x1t6fd"),n.disabled=e[2],n.readOnly=i=!e[1],F(n,"id",e[0]),F(n,"style",e[11]),F(n,"placeholder",e[7]),F(n,"enterkeyhint",e[10]),F(n,"inputmode",e[5]),F(l,"class","shadow-text svelte-x1t6fd"),ct((()=>e[29].call(l)))},m(t,i){var r;A(t,n,i),e[27](n),L(n,e[8]),A(t,o,i),A(t,l,i),_(l,s),a=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=I("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=H();let r;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=N(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{r=N(n.contentWindow,"resize",e),e()}),_(t,n),()=>{(i||r&&n.contentWindow)&&r(),M(n)}}(l,e[29].bind(l)),u||(c=[N(n,"input",e[28]),N(n,"focus",e[23]),N(n,"blur",e[24]),N(n,"input",e[15]),N(n,"keydown",e[13]),N(n,"keyup",e[14]),N(n,"paste",e[25]),N(n,"change",(r=e[26],function(t){return t.stopPropagation(),r.call(this,t)}))],u=!0)},p(t,e){4&e[0]&&(n.disabled=t[2]),2&e[0]&&i!==(i=!t[1])&&(n.readOnly=i),1&e[0]&&F(n,"id",t[0]),2048&e[0]&&F(n,"style",t[11]),128&e[0]&&F(n,"placeholder",t[7]),1024&e[0]&&F(n,"enterkeyhint",t[10]),32&e[0]&&F(n,"inputmode",t[5]),256&e[0]&&n.value!==t[8]&&L(n,t[8]),4096&e[0]&&D(s,t[12])},i:t,o:t,d(t){t&&M(n),e[27](null),t&&M(o),t&&M(l),a(),u=!1,r(c)}}}function El(e,n,i){let r,o,l,a,u,c,h,f,d=t,p=()=>(d(),d=s(x,(t=>i(8,h=t))),x),g=t,v=()=>(g(),g=s(S,(t=>i(31,f=t))),S);e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>g()));let{inputId:y}=n,{placeholder:$}=n,{searchable:b}=n,{disabled:w}=n,{multiple:_}=n,{inputValue:x}=n;p();let{hasDropdownOpened:S}=n;v();let{selectedOptions:A}=n,{isAndroid:M}=n,{inputMode:k="text"}=n,I=null,C=0;const E=tt();let z=!1;return e.$$set=t=>{"inputId"in t&&i(0,y=t.inputId),"placeholder"in t&&i(17,$=t.placeholder),"searchable"in t&&i(1,b=t.searchable),"disabled"in t&&i(2,w=t.disabled),"multiple"in t&&i(18,_=t.multiple),"inputValue"in t&&p(i(3,x=t.inputValue)),"hasDropdownOpened"in t&&v(i(4,S=t.hasDropdownOpened)),"selectedOptions"in t&&i(19,A=t.selectedOptions),"isAndroid"in t&&i(20,M=t.isAndroid),"inputMode"in t&&i(5,k=t.inputMode)},e.$$.update=()=>{786432&e.$$.dirty[0]&&i(21,r=A.length>0&&!1===_),655360&e.$$.dirty[0]&&i(7,o=A.length>0?"":$),384&e.$$.dirty[0]&&i(12,l=h||o),524288&e.$$.dirty[0]&&i(22,a=0===A.length?19:12),6291520&e.$$.dirty[0]&&i(11,u=`width: ${r?2:C+a}px`),2097152&e.$$.dirty[0]&&i(10,c=r?null:"enter")},[y,b,w,x,S,k,C,o,h,I,c,u,l,function(t){if(M&&!c&&"Enter"===t.key)return!0;z=["Enter","Escape"].includes(t.key)&&f,E("keydown",t)},function(t){z&&(t.stopImmediatePropagation(),t.preventDefault()),z=!1},function(t){1!==A.length||_||m(x,h="",h)},()=>I.focus(),$,_,A,M,r,a,function(t){et.call(this,e,t)},function(t){et.call(this,e,t)},function(t){et.call(this,e,t)},function(t){et.call(this,e,t)},function(t){it[t?"unshift":"push"]((()=>{I=t,i(9,I)}))},function(){h=this.value,x.set(h)},function(){C=this.clientWidth,i(6,C)}]}class zl extends Ot{constructor(t){super(),zt(this,t,El,Cl,l,{focus:16,inputId:0,placeholder:17,searchable:1,disabled:2,multiple:18,inputValue:3,hasDropdownOpened:4,selectedOptions:19,isAndroid:20,inputMode:5},null,[-1,-1])}get focus(){return this.$$.ctx[16]}}const Ol=t=>({}),Nl=t=>({}),Tl=t=>({}),Fl=t=>({}),Dl=t=>({}),Ll=t=>({});function Pl(t,e,n){const i=t.slice();return i[41]=e[n],i}const Hl=t=>({}),Rl=t=>({});function Vl(t){let e,n,i,r;const o=[ql,jl],l=[];function s(t,e){return t[5]&&t[6]&&t[19]?0:1}return e=s(t),n=l[e]=o[e](t),{c(){n.c(),i=O()},m(t,n){l[e].m(t,n),A(t,i,n),r=!0},p(t,r){let a=e;e=s(t),e===a?l[e].p(t,r):(yt(),wt(l[a],1,1,(()=>{l[a]=null})),$t(),n=l[e],n?n.p(t,r):(n=l[e]=o[e](t),n.c()),bt(n,1),n.m(i.parentNode,i))},i(t){r||(bt(n),r=!0)},o(t){wt(n),r=!1},d(t){l[e].d(t),t&&M(i)}}}function jl(t){let e,n,i=[],r=new Map,o=t[11];const l=t=>t[41][t[14]];for(let e=0;e<o.length;e+=1){let n=Pl(t,o,e),s=l(n);r.set(s,i[e]=Bl(s,n))}return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=O()},m(t,r){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,r);A(t,e,r),n=!0},p(t,n){if(2148388&n[0]){o=t[11],yt();for(let t=0;t<i.length;t+=1)i[t].r();i=Mt(i,n,l,1,t,o,r,e.parentNode,At,Bl,e,Pl);for(let t=0;t<i.length;t+=1)i[t].a();$t()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)bt(i[t]);n=!0}},o(t){for(let t=0;t<i.length;t+=1)wt(i[t]);n=!1},d(t){for(let e=0;e<i.length;e+=1)i[e].d(t);t&&M(e)}}}function ql(e){let n,i,r=e[6](e[11].length,e[11])+"";return{c(){n=new V(!1),i=O(),n.a=i},m(t,e){n.m(r,t,e),A(t,i,e)},p(t,e){2112&e[0]&&r!==(r=t[6](t[11].length,t[11])+"")&&n.p(r)},i:t,o:t,d(t){t&&M(i),t&&n.d()}}}function Bl(e,n){let i,r,o,l,s,a=t;var u=n[15];function c(t){return{props:{formatter:t[2],item:t[41],isSelected:!0,isMultiple:t[5],inputValue:t[21]}}}return u&&(r=j(u,c(n)),r.$on("deselect",n[35])),{key:e,first:null,c(){i=I("div"),r&&It(r.$$.fragment),o=z(),this.first=i},m(t,e){A(t,i,e),r&&Ct(r,i,null),_(i,o),s=!0},p(t,e){n=t;const l={};if(4&e[0]&&(l.formatter=n[2]),2048&e[0]&&(l.item=n[41]),32&e[0]&&(l.isMultiple=n[5]),2097152&e[0]&&(l.inputValue=n[21]),32768&e[0]&&u!==(u=n[15])){if(r){yt();const t=r;wt(t.$$.fragment,1,0,(()=>{Et(t,1)})),$t()}u?(r=j(u,c(n)),r.$on("deselect",n[35]),It(r.$$.fragment),bt(r.$$.fragment,1),Ct(r,i,o)):r=null}else u&&r.$set(l)},r(){l=i.getBoundingClientRect()},f(){U(i),a()},a(){a(),a=K(i,l,Il,{duration:Kl})},i(t){s||(r&&bt(r.$$.fragment,t),s=!0)},o(t){r&&wt(r.$$.fragment,t),s=!1},d(t){t&&M(i),r&&Et(r)}}}function Gl(t){let e,n,i,o;const l=t[30]["clear-icon"],s=u(l,t,t[29],Ll);return{c(){e=I("div"),s&&s.c(),F(e,"aria-hidden","true"),F(e,"class","indicator-container close-icon svelte-1l8hgl2")},m(r,l){A(r,e,l),s&&s.m(e,null),n=!0,i||(o=[N(e,"mousedown",T(t[32])),N(e,"click",t[39])],i=!0)},p(t,e){s&&s.p&&(!n||536870912&e[0])&&f(s,l,t,t[29],n?h(l,t[29],e,Dl):d(t[29]),Ll)},i(t){n||(bt(s,t),n=!0)},o(t){wt(s,t),n=!1},d(t){t&&M(e),s&&s.d(t),i=!1,r(o)}}}function Wl(t){let e;return{c(){e=I("span"),F(e,"class","indicator-separator svelte-1l8hgl2")},m(t,n){A(t,e,n)},d(t){t&&M(e)}}}function Xl(t){let e,n,i,l,s,a,c,p,m,v,y,$,b,w,x;const S=t[30].icon,k=u(S,t,t[29],Rl);let C=t[11].length&&Vl(t),E={disabled:t[3],searchable:t[1],placeholder:t[4],multiple:t[5],inputId:t[7],inputValue:t[8],hasDropdownOpened:t[10],selectedOptions:t[11],isAndroid:t[16],inputMode:t[18]};s=new zl({props:E}),t[36](s),s.$on("focus",t[24]),s.$on("blur",t[25]),s.$on("keydown",t[37]),s.$on("paste",t[38]);let O=t[0]&&!t[3]&&Gl(t),D=t[0]&&Wl();const L=t[30]["indicator-icon"],P=u(L,t,t[29],Fl),H=t[30]["control-end"],V=u(H,t,t[29],Nl);return{c(){e=I("div"),k&&k.c(),n=z(),i=I("div"),C&&C.c(),l=z(),It(s.$$.fragment),c=z(),p=I("div"),O&&O.c(),m=z(),D&&D.c(),v=z(),y=I("div"),P&&P.c(),$=z(),V&&V.c(),F(i,"class","sv-content sv-input-row svelte-1l8hgl2"),R(i,"has-multiSelection",t[5]),F(y,"aria-hidden","true"),F(y,"class","indicator-container svelte-1l8hgl2"),F(p,"class","indicator svelte-1l8hgl2"),R(p,"is-loading",t[12]),F(e,"class","sv-control svelte-1l8hgl2"),R(e,"is-active",t[22]),R(e,"is-disabled",t[3])},m(r,o){A(r,e,o),k&&k.m(e,null),_(e,n),_(e,i),C&&C.m(i,null),_(i,l),Ct(s,i,null),_(e,c),_(e,p),O&&O.m(p,null),_(p,m),D&&D.m(p,null),_(p,v),_(p,y),P&&P.m(y,null),_(e,$),V&&V.m(e,null),b=!0,w||(x=[g(a=t[13].call(null,i,{items:t[11],flipDurationMs:Kl,type:t[7]})),N(i,"consider",t[33]),N(i,"finalize",t[34]),N(y,"mousedown",T(t[31])),N(e,"mousedown",Ul),N(e,"click",t[17])],w=!0)},p(t,n){k&&k.p&&(!b||536870912&n[0])&&f(k,S,t,t[29],b?h(S,t[29],n,Hl):d(t[29]),Rl),t[11].length?C?(C.p(t,n),2048&n[0]&&bt(C,1)):(C=Vl(t),C.c(),bt(C,1),C.m(i,l)):C&&(yt(),wt(C,1,1,(()=>{C=null})),$t());const r={};8&n[0]&&(r.disabled=t[3]),2&n[0]&&(r.searchable=t[1]),16&n[0]&&(r.placeholder=t[4]),32&n[0]&&(r.multiple=t[5]),128&n[0]&&(r.inputId=t[7]),256&n[0]&&(r.inputValue=t[8]),1024&n[0]&&(r.hasDropdownOpened=t[10]),2048&n[0]&&(r.selectedOptions=t[11]),65536&n[0]&&(r.isAndroid=t[16]),262144&n[0]&&(r.inputMode=t[18]),s.$set(r),a&&o(a.update)&&2176&n[0]&&a.update.call(null,{items:t[11],flipDurationMs:Kl,type:t[7]}),(!b||32&n[0])&&R(i,"has-multiSelection",t[5]),t[0]&&!t[3]?O?(O.p(t,n),9&n[0]&&bt(O,1)):(O=Gl(t),O.c(),bt(O,1),O.m(p,m)):O&&(yt(),wt(O,1,1,(()=>{O=null})),$t()),t[0]?D||(D=Wl(),D.c(),D.m(p,v)):D&&(D.d(1),D=null),P&&P.p&&(!b||536870912&n[0])&&f(P,L,t,t[29],b?h(L,t[29],n,Tl):d(t[29]),Fl),(!b||4096&n[0])&&R(p,"is-loading",t[12]),V&&V.p&&(!b||536870912&n[0])&&f(V,H,t,t[29],b?h(H,t[29],n,Ol):d(t[29]),Nl),(!b||4194304&n[0])&&R(e,"is-active",t[22]),(!b||8&n[0])&&R(e,"is-disabled",t[3])},i(t){b||(bt(k,t),bt(C),bt(s.$$.fragment,t),bt(O),bt(P,t),bt(V,t),b=!0)},o(t){wt(k,t),wt(C),wt(s.$$.fragment,t),wt(O),wt(P,t),wt(V,t),b=!1},d(n){n&&M(e),k&&k.d(n),C&&C.d(),t[36](null),Et(s),O&&O.d(),D&&D.d(),P&&P.d(n),V&&V.d(n),w=!1,r(x)}}}const Kl=100;function Ul(t){"INPUT"!==t?.target.tagName&&t.preventDefault()}function Ql(e,n,i){let r,o,l,a=t,u=()=>(a(),a=s(k,(t=>i(21,r=t))),k),c=t,h=()=>(c(),c=s(C,(t=>i(40,o=t))),C),f=t,d=()=>(f(),f=s(I,(t=>i(22,l=t))),I);e.$$.on_destroy.push((()=>a())),e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>f()));let{$$slots:p={},$$scope:g}=n,{clearable:v}=n,{searchable:y}=n,{renderer:$}=n,{disabled:b}=n,{placeholder:w}=n,{multiple:_}=n,{resetOnBlur:x}=n,{collapseSelection:S}=n,{alwaysCollapsed:A}=n,{inputId:M}=n,{inputValue:k}=n;u();let{hasFocus:I}=n;d();let{hasDropdownOpened:C}=n;h();let{selectedOptions:E}=n,{isFetchingData:z}=n,{dndzone:O}=n,{currentValueField:N}=n,{itemComponent:T}=n,{isAndroid:F}=n,{isIOS:D}=n,L="none";const P=tt();let H,R=!0;return e.$$set=t=>{"clearable"in t&&i(0,v=t.clearable),"searchable"in t&&i(1,y=t.searchable),"renderer"in t&&i(2,$=t.renderer),"disabled"in t&&i(3,b=t.disabled),"placeholder"in t&&i(4,w=t.placeholder),"multiple"in t&&i(5,_=t.multiple),"resetOnBlur"in t&&i(26,x=t.resetOnBlur),"collapseSelection"in t&&i(6,S=t.collapseSelection),"alwaysCollapsed"in t&&i(27,A=t.alwaysCollapsed),"inputId"in t&&i(7,M=t.inputId),"inputValue"in t&&u(i(8,k=t.inputValue)),"hasFocus"in t&&d(i(9,I=t.hasFocus)),"hasDropdownOpened"in t&&h(i(10,C=t.hasDropdownOpened)),"selectedOptions"in t&&i(11,E=t.selectedOptions),"isFetchingData"in t&&i(12,z=t.isFetchingData),"dndzone"in t&&i(13,O=t.dndzone),"currentValueField"in t&&i(14,N=t.currentValueField),"itemComponent"in t&&i(15,T=t.itemComponent),"isAndroid"in t&&i(16,F=t.isAndroid),"isIOS"in t&&i(28,D=t.isIOS),"$$scope"in t&&i(29,g=t.$$scope)},[v,y,$,b,w,_,S,M,k,I,C,E,z,O,N,T,F,function(t){if(!b){if(!t)return!l&&H.focus(),void m(C,o=!0,o);if("INPUT"!==t?.target.tagName&&t.preventDefault(),l){if((F||D)&&"text"!==L)return void i(18,L="text");m(C,o=!o,o)}else H.focus()}},L,R,H,r,l,P,function(){m(I,l=!0,l),m(C,o=!0,o),!A&&setTimeout((()=>{i(19,R=!1)}),150)},function(){i(18,L="none"),m(I,l=!1,l),m(C,o=!1,o),x&&m(k,r="",r),!A&&setTimeout((()=>{i(19,R=!0)}),100),P("blur")},x,A,D,g,p,function(t){et.call(this,e,t)},function(t){et.call(this,e,t)},function(t){et.call(this,e,t)},function(t){et.call(this,e,t)},function(t){et.call(this,e,t)},function(t){it[t?"unshift":"push"]((()=>{H=t,i(20,H)}))},function(t){et.call(this,e,t)},function(t){et.call(this,e,t)},()=>P("deselect")]}class Yl extends Ot{constructor(t){super(),zt(this,t,Ql,Xl,l,{clearable:0,searchable:1,renderer:2,disabled:3,placeholder:4,multiple:5,resetOnBlur:26,collapseSelection:6,alwaysCollapsed:27,inputId:7,inputValue:8,hasFocus:9,hasDropdownOpened:10,selectedOptions:11,isFetchingData:12,dndzone:13,currentValueField:14,itemComponent:15,isAndroid:16,isIOS:28,focusControl:17},null,[-1,-1])}get focusControl(){return this.$$.ctx[17]}}const Zl="start",Jl="center",ts="end",es={HORIZONTAL:"horizontal",VERTICAL:"vertical"},ns=0,is=1,rs={[es.VERTICAL]:"top",[es.HORIZONTAL]:"left"},os={[es.VERTICAL]:"scrollTop",[es.HORIZONTAL]:"scrollLeft"};class ls{constructor({itemSize:t,itemCount:e,estimatedItemSize:n}){this.itemSize=t,this.itemCount=e,this.estimatedItemSize=n,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return"function"==typeof this.itemSize}updateConfig({itemSize:t,itemCount:e,estimatedItemSize:n}){null!=e&&(this.itemCount=e),null!=n&&(this.estimatedItemSize=n),null!=t&&(this.itemSize=t),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&null!=this.totalSize?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(t){const{itemSize:e}=this;return"function"==typeof e?e(t):Array.isArray(e)?e[t]:e}computeTotalSizeAndPositionData(){let t=0;for(let e=0;e<this.itemCount;e++){const n=this.getSize(e),i=t;t+=n,this.itemSizeAndPositionData[e]={offset:i,size:n}}this.totalSize=t}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(t){if(t<0||t>=this.itemCount)throw Error(`Requested index ${t} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(t):this.itemSizeAndPositionData[t]}getJustInTimeSizeAndPositionForIndex(t){if(t>this.lastMeasuredIndex){const e=this.getSizeAndPositionOfLastMeasuredItem();let n=e.offset+e.size;for(let e=this.lastMeasuredIndex+1;e<=t;e++){const t=this.getSize(e);if(null==t||isNaN(t))throw Error(`Invalid size returned for index ${e} of value ${t}`);this.itemSizeAndPositionData[e]={offset:n,size:t},n+=t}this.lastMeasuredIndex=t}return this.itemSizeAndPositionData[t]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const t=this.getSizeAndPositionOfLastMeasuredItem();return t.offset+t.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:t=Zl,containerSize:e,currentOffset:n,targetIndex:i}){if(e<=0)return 0;const r=this.getSizeAndPositionForIndex(i),o=r.offset,l=o-e+r.size;let s;switch(t){case ts:s=l;break;case Jl:s=o-(e-r.size)/2;break;case Zl:s=o;break;default:s=Math.max(l,Math.min(o,n))}const a=this.getTotalSize();return Math.max(0,Math.min(a-e,s))}getVisibleRange({containerSize:t=0,offset:e,overscanCount:n}){if(0===this.getTotalSize())return{};const i=e+t;let r=this.findNearestItem(e);if(void 0===r)throw Error(`Invalid offset ${e} specified`);const o=this.getSizeAndPositionForIndex(r);e=o.offset+o.size;let l=r;for(;e<i&&l<this.itemCount-1;)l++,e+=this.getSizeAndPositionForIndex(l).size;return n&&(r=Math.max(0,r-n),l=Math.min(l+n,this.itemCount-1)),{start:r,stop:l}}resetItem(t){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,t-1)}findNearestItem(t){if(isNaN(t))throw Error(`Invalid offset ${t} specified`);t=Math.max(0,t);const e=this.getSizeAndPositionOfLastMeasuredItem(),n=Math.max(0,this.lastMeasuredIndex);return e.offset>=t?this.binarySearch({high:n,low:0,offset:t}):this.exponentialSearch({index:n,offset:t})}binarySearch({low:t,high:e,offset:n}){let i=0,r=0;for(;t<=e;){if(i=t+Math.floor((e-t)/2),r=this.getSizeAndPositionForIndex(i).offset,r===n)return i;r<n?t=i+1:r>n&&(e=i-1)}return t>0?t-1:0}exponentialSearch({index:t,offset:e}){let n=1;for(;t<this.itemCount&&this.getSizeAndPositionForIndex(t).offset<e;)t+=n,n*=2;return this.binarySearch({high:Math.min(t,this.itemCount-1),low:Math.floor(t/2),offset:e})}}const ss=t=>({}),as=t=>({});function us(t,e,n){const i=t.slice();return i[37]=e[n],i}const cs=t=>({style:4&t[0],index:4&t[0]}),hs=t=>({style:t[37].style,index:t[37].index}),fs=t=>({}),ds=t=>({});function ps(t,e){let n,i;const r=e[21].item,o=u(r,e,e[20],hs);return{key:t,first:null,c(){n=O(),o&&o.c(),this.first=n},m(t,e){A(t,n,e),o&&o.m(t,e),i=!0},p(t,n){e=t,o&&o.p&&(!i||1048580&n[0])&&f(o,r,e,e[20],i?h(r,e[20],n,cs):d(e[20]),hs)},i(t){i||(bt(o,t),i=!0)},o(t){wt(o,t),i=!1},d(t){t&&M(n),o&&o.d(t)}}}function ms(t){let e,n,i,r,o,l=[],s=new Map;const a=t[21].header,c=u(a,t,t[20],ds);let p=t[2];const m=t=>t[0]?t[0](t[37].index):t[37].index;for(let e=0;e<p.length;e+=1){let n=us(t,p,e),i=m(n);s.set(i,l[e]=ps(i,n))}const g=t[21].footer,v=u(g,t,t[20],as);return{c(){e=I("div"),c&&c.c(),n=z(),i=I("div");for(let t=0;t<l.length;t+=1)l[t].c();r=z(),v&&v.c(),F(i,"class","virtual-list-inner svelte-dwpad5"),F(i,"style",t[4]),F(e,"class","virtual-list-wrapper svelte-dwpad5"),F(e,"style",t[3])},m(s,a){A(s,e,a),c&&c.m(e,null),_(e,n),_(e,i);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(i,null);_(e,r),v&&v.m(e,null),t[22](e),o=!0},p(t,n){c&&c.p&&(!o||1048576&n[0])&&f(c,a,t,t[20],o?h(a,t[20],n,fs):d(t[20]),ds),1048581&n[0]&&(p=t[2],yt(),l=Mt(l,n,m,1,t,p,s,i,St,ps,null,us),$t()),(!o||16&n[0])&&F(i,"style",t[4]),v&&v.p&&(!o||1048576&n[0])&&f(v,g,t,t[20],o?h(g,t[20],n,ss):d(t[20]),as),(!o||8&n[0])&&F(e,"style",t[3])},i(t){if(!o){bt(c,t);for(let t=0;t<p.length;t+=1)bt(l[t]);bt(v,t),o=!0}},o(t){wt(c,t);for(let t=0;t<l.length;t+=1)wt(l[t]);wt(v,t),o=!1},d(n){n&&M(e),c&&c.d(n);for(let t=0;t<l.length;t+=1)l[t].d();v&&v.d(n),t[22](null)}}}const gs=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(t={passive:!0},!0)});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch(t){}return t})();function vs(t,e,n){let{$$slots:i={},$$scope:r}=e,{height:o}=e,{width:l="100%"}=e,{itemCount:s}=e,{itemSize:a}=e,{estimatedItemSize:u=null}=e,{stickyIndices:c=null}=e,{getKey:h=null}=e,{scrollDirection:f=es.VERTICAL}=e,{scrollOffset:d=null}=e,{scrollToIndex:p=null}=e,{scrollToAlignment:m=null}=e,{scrollToBehaviour:g="instant"}=e,{overscanCount:v=3}=e;const y=tt(),$=new ls({itemCount:s,itemSize:a,estimatedItemSize:T()});let b,w=!1,_=[],x={offset:d||null!=p&&_.length&&O(p)||0,scrollChangeReason:is},S=x,A={scrollToIndex:p,scrollToAlignment:m,scrollOffset:d,itemCount:s,itemSize:a,estimatedItemSize:u},M={},k="",I="";function C(){const{offset:t}=x,{start:e,stop:i}=$.getVisibleRange({containerSize:f===es.VERTICAL?o:l,offset:t,overscanCount:v});let r=[];const s=$.getTotalSize();f===es.VERTICAL?(n(3,k=`height:${o}px;width:${l};`),n(4,I=`flex-direction:column;height:${s}px;`)):(n(3,k=`height:${o};width:${l}px`),n(4,I=`min-height:100%;width:${s}px;`));const a=null!=c&&0!==c.length;if(a)for(let t=0;t<c.length;t++){const e=c[t];r.push({index:e,style:F(e,!0)})}if(void 0!==e&&void 0!==i){for(let t=e;t<=i;t++)a&&c.includes(t)||r.push({index:t,style:F(t,!1)});y("itemsUpdated",{start:e,end:i})}n(2,_=r)}function E(t){"scroll"in b?b.scroll({[rs[f]]:t,behavior:g}):n(1,b[os[f]]=t,b)}function z(t=0){M={},$.resetItem(t),C()}function O(t,e=m,n=s){return(t<0||t>=n)&&(t=0),$.getUpdatedOffsetForIndex({align:e,containerSize:f===es.VERTICAL?o:l,currentOffset:x.offset||0,targetIndex:t})}function N(t){const e=b[os[f]];e<0||x.offset===e||t.target!==b||(n(19,x={offset:e,scrollChangeReason:ns}),y("afterScroll",{offset:e,event:t}))}function T(){return u||"number"==typeof a&&a||50}function F(t,e){if(M[t])return M[t];const{size:n,offset:i}=$.getSizeAndPositionForIndex(t);let r;return f===es.VERTICAL?(r=`left:0;width:100%;height:${n}px;`,r+=e?`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${i}px;margin-bottom:${-(i+n)}px;`:`position:absolute;top:${i}px;`):(r=`top:0;width:${n}px;`,r+=e?`position:sticky;z-index:1;left:0;margin-left:${i}px;margin-right:${-(i+n)}px;`:`position:absolute;height:100%;left:${i}px;`),M[t]=r}return C(),Z((()=>{n(18,w=!0),b.addEventListener("scroll",N,gs),null!=d?E(d):null!=p&&E(O(p))})),J((()=>{w&&b.removeEventListener("scroll",N)})),t.$$set=t=>{"height"in t&&n(5,o=t.height),"width"in t&&n(6,l=t.width),"itemCount"in t&&n(7,s=t.itemCount),"itemSize"in t&&n(8,a=t.itemSize),"estimatedItemSize"in t&&n(9,u=t.estimatedItemSize),"stickyIndices"in t&&n(10,c=t.stickyIndices),"getKey"in t&&n(0,h=t.getKey),"scrollDirection"in t&&n(11,f=t.scrollDirection),"scrollOffset"in t&&n(12,d=t.scrollOffset),"scrollToIndex"in t&&n(13,p=t.scrollToIndex),"scrollToAlignment"in t&&n(14,m=t.scrollToAlignment),"scrollToBehaviour"in t&&n(15,g=t.scrollToBehaviour),"overscanCount"in t&&n(16,v=t.overscanCount),"$$scope"in t&&n(20,r=t.$$scope)},t.$$.update=()=>{29568&t.$$.dirty[0]&&function(){if(!w)return;const t=A.scrollToIndex!==p||A.scrollToAlignment!==m,e=A.itemCount!==s||A.itemSize!==a||A.estimatedItemSize!==u;e&&($.updateConfig({itemSize:a,itemCount:s,estimatedItemSize:T()}),z()),A.scrollOffset!==d?n(19,x={offset:d||0,scrollChangeReason:is}):"number"==typeof p&&(t||e)&&n(19,x={offset:O(p,m,s),scrollChangeReason:is}),A={scrollToIndex:p,scrollToAlignment:m,scrollOffset:d,itemCount:s,itemSize:a,estimatedItemSize:u}}(),524288&t.$$.dirty[0]&&function(){if(!w)return;const{offset:t,scrollChangeReason:e}=x;S.offset===t&&S.scrollChangeReason===e||C(),S.offset!==t&&e===is&&E(t),S=x}(),263264&t.$$.dirty[0]&&w&&z(0)},[h,b,_,k,I,o,l,s,a,u,c,f,d,p,m,g,v,z,w,x,r,i,function(t){it[t?"unshift":"push"]((()=>{b=t,n(1,b)}))}]}class ys extends Ot{constructor(t){super(),zt(this,t,vs,ms,l,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function $s(t,e,n){const i=t.slice();return i[51]=e[n],i[53]=n,i}function bs(t,e,n){const i=t.slice();return i[51]=e[n],i[53]=n,i}function ws(t){let e,n,i,r,o,l,s,a,u,c=t[17]&&_s(t),h=t[5].length&&Ss(t),f=(t[19]||t[2])&&Cs(t),d=t[8]&&t[1]&&!t[2]&&Es(t);return{c(){e=I("div"),c&&c.c(),n=z(),i=I("div"),r=I("div"),h&&h.c(),o=z(),f&&f.c(),l=z(),d&&d.c(),F(r,"class","sv-dropdown-content svelte-9227bl"),R(r,"max-reached",t[2]),F(i,"class","sv-dropdown-scroll svelte-9227bl"),F(i,"tabindex","-1"),R(i,"is-empty",!t[5].length),F(e,"class","sv-dropdown svelte-9227bl"),F(e,"aria-expanded",t[27]),R(e,"is-virtual",t[7])},m(p,m){A(p,e,m),c&&c.m(e,null),_(e,n),_(e,i),_(i,r),h&&h.m(r,null),_(r,o),f&&f.m(r,null),t[42](r),t[43](i),_(e,l),d&&d.m(e,null),s=!0,a||(u=N(e,"mousedown",T(t[35])),a=!0)},p(t,l){t[17]?c?(c.p(t,l),131072&l[0]&&bt(c,1)):(c=_s(t),c.c(),bt(c,1),c.m(e,n)):c&&(yt(),wt(c,1,1,(()=>{c=null})),$t()),t[5].length?h?(h.p(t,l),32&l[0]&&bt(h,1)):(h=Ss(t),h.c(),bt(h,1),h.m(r,o)):h&&(yt(),wt(h,1,1,(()=>{h=null})),$t()),t[19]||t[2]?f?f.p(t,l):(f=Cs(t),f.c(),f.m(r,null)):f&&(f.d(1),f=null),(!s||4&l[0])&&R(r,"max-reached",t[2]),(!s||32&l[0])&&R(i,"is-empty",!t[5].length),t[8]&&t[1]&&!t[2]?d?d.p(t,l):(d=Es(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null),(!s||134217728&l[0])&&F(e,"aria-expanded",t[27]),(!s||128&l[0])&&R(e,"is-virtual",t[7])},i(t){s||(bt(c),bt(h),s=!0)},o(t){wt(c),wt(h),s=!1},d(n){n&&M(e),c&&c.d(),h&&h.d(),f&&f.d(),t[42](null),t[43](null),d&&d.d(),a=!1,u()}}}function _s(t){let e,n,i=[],r=new Map,o=t[17];const l=t=>t[53];for(let e=0;e<o.length;e+=1){let n=bs(t,o,e),s=l(n);r.set(s,i[e]=xs(s,n))}return{c(){e=I("div");for(let t=0;t<i.length;t+=1)i[t].c();F(e,"class","sv-content has-multiSelection alwaysCollapsed-selection svelte-9227bl")},m(t,r){A(t,e,r);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null);n=!0},p(t,n){197384&n[0]&&(o=t[17],yt(),i=Mt(i,n,l,1,t,o,r,e,St,xs,null,bs),$t())},i(t){if(!n){for(let t=0;t<o.length;t+=1)bt(i[t]);n=!0}},o(t){for(let t=0;t<i.length;t+=1)wt(i[t]);n=!1},d(t){t&&M(e);for(let t=0;t<i.length;t+=1)i[t].d()}}}function xs(t,e){let n,i,r,o;var l=e[16];function s(t){return{props:{formatter:t[3],item:t[51],isSelected:!0,isMultiple:t[9],inputValue:t[8]}}}return l&&(i=j(l,s(e)),i.$on("deselect",e[36])),{key:t,first:null,c(){n=O(),i&&It(i.$$.fragment),r=O(),this.first=n},m(t,e){A(t,n,e),i&&Ct(i,t,e),A(t,r,e),o=!0},p(t,n){e=t;const o={};if(8&n[0]&&(o.formatter=e[3]),131072&n[0]&&(o.item=e[51]),512&n[0]&&(o.isMultiple=e[9]),256&n[0]&&(o.inputValue=e[8]),65536&n[0]&&l!==(l=e[16])){if(i){yt();const t=i;wt(t.$$.fragment,1,0,(()=>{Et(t,1)})),$t()}l?(i=j(l,s(e)),i.$on("deselect",e[36]),It(i.$$.fragment),bt(i.$$.fragment,1),Ct(i,r.parentNode,r)):i=null}else l&&i.$set(o)},i(t){o||(i&&bt(i.$$.fragment,t),o=!0)},o(t){i&&wt(i.$$.fragment,t),o=!1},d(t){t&&M(n),t&&M(r),i&&Et(i,t)}}}function Ss(t){let e,n,i,r;const o=[Ms,As],l=[];function s(t,e){return t[7]?0:1}return e=s(t),n=l[e]=o[e](t),{c(){n.c(),i=O()},m(t,n){l[e].m(t,n),A(t,i,n),r=!0},p(t,r){let a=e;e=s(t),e===a?l[e].p(t,r):(yt(),wt(l[a],1,1,(()=>{l[a]=null})),$t(),n=l[e],n?n.p(t,r):(n=l[e]=o[e](t),n.c()),bt(n,1),n.m(i.parentNode,i))},i(t){r||(bt(n),r=!0)},o(t){wt(n),r=!1},d(t){l[e].d(t),t&&M(i)}}}function As(t){let e,n,i=t[5],r=[];for(let e=0;e<i.length;e+=1)r[e]=ks($s(t,i,e));const o=t=>wt(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=O()},m(t,i){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,i);A(t,e,i),n=!0},p(t,n){if(75065&n[0]){let l;for(i=t[5],l=0;l<i.length;l+=1){const o=$s(t,i,l);r[l]?(r[l].p(o,n),bt(r[l],1)):(r[l]=ks(o),r[l].c(),bt(r[l],1),r[l].m(e.parentNode,e))}for(yt(),l=i.length;l<r.length;l+=1)o(l);$t()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)bt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)wt(r[t]);n=!1},d(t){k(r,t),t&&M(e)}}}function Ms(t){let e,n,i={width:"100%",height:t[25],itemCount:t[5].length,itemSize:t[21],scrollToAlignment:"auto",scrollToIndex:!t[9]&&t[0]?parseInt(t[0]):null,$$slots:{item:[Is,({style:t,index:e})=>({49:t,50:e}),({style:t,index:e})=>[0,(t?262144:0)|(e?524288:0)]]},$$scope:{ctx:t}};return e=new ys({props:i}),t[39](e),{c(){It(e.$$.fragment)},m(t,i){Ct(e,t,i),n=!0},p(t,n){const i={};33554432&n[0]&&(i.height=t[25]),32&n[0]&&(i.itemCount=t[5].length),2097152&n[0]&&(i.itemSize=t[21]),513&n[0]&&(i.scrollToIndex=!t[9]&&t[0]?parseInt(t[0]):null),75065&n[0]|17563648&n[1]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(n){t[39](null),Et(e,n)}}}function ks(t){let e,n,i,r,o;var l=t[16];function s(t){return{props:{formatter:t[3],index:t[10].map[t[53]],isDisabled:t[51][t[13]],item:t[51],inputValue:t[8],disableHighlight:t[4]}}}return l&&(n=j(l,s(t)),n.$on("hover",t[40]),n.$on("select",t[41])),{c(){e=I("div"),n&&It(n.$$.fragment),i=z(),F(e,"data-pos",r=t[10].map[t[53]]),F(e,"class","sv-dd-item"),R(e,"sv-dd-item-active",t[10].map[t[53]]==t[0]),R(e,"sv-group-item",t[51].$isGroupItem),R(e,"sv-group-header",t[51].$isGroupHeader)},m(t,r){A(t,e,r),n&&Ct(n,e,null),_(e,i),o=!0},p(t,a){const u={};if(8&a[0]&&(u.formatter=t[3]),1024&a[0]&&(u.index=t[10].map[t[53]]),8224&a[0]&&(u.isDisabled=t[51][t[13]]),32&a[0]&&(u.item=t[51]),256&a[0]&&(u.inputValue=t[8]),16&a[0]&&(u.disableHighlight=t[4]),65536&a[0]&&l!==(l=t[16])){if(n){yt();const t=n;wt(t.$$.fragment,1,0,(()=>{Et(t,1)})),$t()}l?(n=j(l,s(t)),n.$on("hover",t[40]),n.$on("select",t[41]),It(n.$$.fragment),bt(n.$$.fragment,1),Ct(n,e,i)):n=null}else l&&n.$set(u);(!o||1024&a[0]&&r!==(r=t[10].map[t[53]]))&&F(e,"data-pos",r),(!o||1025&a[0])&&R(e,"sv-dd-item-active",t[10].map[t[53]]==t[0]),(!o||32&a[0])&&R(e,"sv-group-item",t[51].$isGroupItem),(!o||32&a[0])&&R(e,"sv-group-header",t[51].$isGroupHeader)},i(t){o||(n&&bt(n.$$.fragment,t),o=!0)},o(t){n&&wt(n.$$.fragment,t),o=!1},d(t){t&&M(e),n&&Et(n)}}}function Is(t){let e,n,i,r;var o=t[16];function l(t){return{props:{formatter:t[3],index:t[10].map[t[50]],isDisabled:t[5][t[50]][t[13]],item:t[5][t[50]],inputValue:t[8],disableHighlight:t[4]}}}return o&&(n=j(o,l(t)),n.$on("hover",t[37]),n.$on("select",t[38])),{c(){e=I("div"),n&&It(n.$$.fragment),F(e,"slot","item"),F(e,"style",i=t[49]),F(e,"class","sv-dd-item"),R(e,"sv-dd-item-active",t[50]==t[0]),R(e,"sv-group-item",t[5][t[50]].$isGroupItem),R(e,"sv-group-header",t[5][t[50]].$isGroupHeader)},m(t,i){A(t,e,i),n&&Ct(n,e,null),r=!0},p(t,s){const a={};if(8&s[0]&&(a.formatter=t[3]),1024&s[0]|524288&s[1]&&(a.index=t[10].map[t[50]]),8224&s[0]|524288&s[1]&&(a.isDisabled=t[5][t[50]][t[13]]),32&s[0]|524288&s[1]&&(a.item=t[5][t[50]]),256&s[0]&&(a.inputValue=t[8]),16&s[0]&&(a.disableHighlight=t[4]),65536&s[0]&&o!==(o=t[16])){if(n){yt();const t=n;wt(t.$$.fragment,1,0,(()=>{Et(t,1)})),$t()}o?(n=j(o,l(t)),n.$on("hover",t[37]),n.$on("select",t[38]),It(n.$$.fragment),bt(n.$$.fragment,1),Ct(n,e,null)):n=null}else o&&n.$set(a);(!r||262144&s[1]&&i!==(i=t[49]))&&F(e,"style",i),(!r||1&s[0]|524288&s[1])&&R(e,"sv-dd-item-active",t[50]==t[0]),(!r||32&s[0]|524288&s[1])&&R(e,"sv-group-item",t[5][t[50]].$isGroupItem),(!r||32&s[0]|524288&s[1])&&R(e,"sv-group-header",t[5][t[50]].$isGroupHeader)},i(t){r||(n&&bt(n.$$.fragment,t),r=!0)},o(t){n&&wt(n.$$.fragment,t),r=!1},d(t){t&&M(e),n&&Et(n)}}}function Cs(t){let e,n;return{c(){e=I("div"),n=E(t[12]),F(e,"class","empty-list-row svelte-9227bl")},m(t,i){A(t,e,i),_(e,n)},p(t,e){4096&e[0]&&D(n,t[12])},d(t){t&&M(e)}}}function Es(t){let e,n,i,l,s,a,u=t[14](t[8])+"",c=t[26]!=t[0]&&zs(t);return{c(){e=I("div"),n=I("div"),i=new V(!1),l=z(),c&&c.c(),i.a=l,F(n,"class","creatable-row svelte-9227bl"),R(n,"active",t[26]==t[0]),R(n,"is-disabled",t[6].includes(t[8])),F(e,"class","creatable-row-wrap svelte-9227bl")},m(r,h){A(r,e,h),_(e,n),i.m(u,n),_(n,l),c&&c.m(n,null),s||(a=[N(n,"click",(function(){o(t[28]("select",t[8]))&&t[28]("select",t[8]).apply(this,arguments)})),N(n,"mouseenter",(function(){o(t[28]("hover",t[10].last))&&t[28]("hover",t[10].last).apply(this,arguments)}))],s=!0)},p(e,r){t=e,16640&r[0]&&u!==(u=t[14](t[8])+"")&&i.p(u),t[26]!=t[0]?c?c.p(t,r):(c=zs(t),c.c(),c.m(n,null)):c&&(c.d(1),c=null),67108865&r[0]&&R(n,"active",t[26]==t[0]),320&r[0]&&R(n,"is-disabled",t[6].includes(t[8]))},d(t){t&&M(e),c&&c.d(),s=!1,r(a)}}}function zs(t){let e,n,i,r,o;return{c(){e=I("span"),n=I("kbd"),i=E(t[15]),r=E("+"),o=I("kbd"),o.textContent="Enter",F(n,"class","svelte-9227bl"),F(o,"class","svelte-9227bl"),F(e,"class","shortcut svelte-9227bl")},m(t,l){A(t,e,l),_(e,n),_(n,i),_(e,r),_(e,o)},p(t,e){32768&e[0]&&D(i,t[15])},d(t){t&&M(e)}}}function Os(t){let e,n,i=t[18]&&t[20]&&ws(t);return{c(){i&&i.c(),e=O()},m(t,r){i&&i.m(t,r),A(t,e,r),n=!0},p(t,n){t[18]&&t[20]?i?(i.p(t,n),1310720&n[0]&&bt(i,1)):(i=ws(t),i.c(),bt(i,1),i.m(e.parentNode,e)):i&&(yt(),wt(i,1,1,(()=>{i=null})),$t())},i(t){n||(bt(i),n=!0)},o(t){wt(i),n=!1},d(t){i&&i.d(t),t&&M(e)}}}function Ns(e,n,i){let r,o,l,a=t,u=()=>(a(),a=s(S,(t=>i(27,l=t))),S);e.$$.on_destroy.push((()=>a()));let{lazyDropdown:c}=n,{creatable:h}=n,{maxReached:f=!1}=n,{dropdownIndex:d=0}=n,{renderer:p}=n,{disableHighlight:m}=n,{items:g=[]}=n,{alreadyCreated:v}=n,{virtualList:y}=n,{vlItemSize:$}=n,{vlHeight:b}=n,{inputValue:w}=n,{multiple:_}=n,{listIndex:x}=n,{hasDropdownOpened:S}=n;u();let{listMessage:A}=n,{disabledField:M}=n,{createLabel:k}=n,{metaKey:I}=n,{itemComponent:C}=n,{selection:E=null}=n;function z(t){if(y)return;const e=N.querySelector(`[data-pos="${d}"]`);if(!e)return;const n=e.getBoundingClientRect(),r=T.getBoundingClientRect(),o=e.offsetHeight/3,l=t&&t.center?T.offsetHeight/2:0;switch(!0){case e.offsetTop<T.scrollTop:i(23,T.scrollTop=e.offsetTop-o+l,T);break;case e.offsetTop+n.height>T.scrollTop+r.height:i(23,T.scrollTop=e.offsetTop+n.height-T.offsetHeight+o+l,T)}}const O=tt();let N,T,F,D=!1,L=!1,P=!c,H=b,R=$,V=null===b&&null===$;function j(t){if(!T&&!P)return;const e=function(t){if(!t)return!1;const e=t.parentElement.parentElement.getBoundingClientRect(),n=t.getBoundingClientRect(),i={};return i.top=e.top<0,i.left=e.left<0,i.bottom=e.bottom+n.height>(window.innerHeight||document.documentElement.clientHeight),i.right=e.right>(window.innerWidth||document.documentElement.clientWidth),i.any=i.top||i.left||i.bottom||i.right,i}(T);e.bottom&&!e.top?i(23,T.parentElement.style.bottom=T.parentElement.parentElement.clientHeight+1+"px",T):t&&!e.top||i(23,T.parentElement.style.bottom="",T)}function q(){if(!F)return;const t=(t,e)=>{const n=window.getComputedStyle(t);let{groups:{value:i,unit:r}}=n[e].match(/(?<value>\d+)(?<unit>[a-zA-Z]+)/);if(i=parseFloat(i),"px"!==r){const t="rem"===r?document.documentElement:T.parentElement.parentElement;i*=parseFloat(window.getComputedStyle(t).fontSize.match(/\d+/).shift())}return i};i(34,H=t(T,"maxHeight")-t(T,"paddingTop")-t(T,"paddingBottom")),i(23,T.parentElement.style="opacity: 0; display: block",T);const e=F.$$.ctx[1].firstElementChild.firstElementChild;if(e){e.style="";const t=e.getBoundingClientRect().height,n=F.$$.ctx[1].firstElementChild.firstElementChild.nextElementSibling;let r;if(n&&(n.style="",r=n.getBoundingClientRect().height),t!==r){const e=g[0].$isGroupHeader?t:r,n=g[0].$isGroupHeader?r:t;i(21,R=g.map((t=>t.$isGroupHeader?e:n)))}else i(21,R=t)}i(23,T.parentElement.style="",T)}let B=()=>{},G=null;return Z((()=>{B=S.subscribe((t=>{!P&&t&&i(20,P=!0),ut().then((()=>{j(t),t&&z({center:!0})})),G||(G=()=>j(t)),document[t?"addEventListener":"removeEventListener"]("scroll",G,{passive:!0})})),i(18,D=!0)})),J((()=>B())),e.$$set=t=>{"lazyDropdown"in t&&i(29,c=t.lazyDropdown),"creatable"in t&&i(1,h=t.creatable),"maxReached"in t&&i(2,f=t.maxReached),"dropdownIndex"in t&&i(0,d=t.dropdownIndex),"renderer"in t&&i(3,p=t.renderer),"disableHighlight"in t&&i(4,m=t.disableHighlight),"items"in t&&i(5,g=t.items),"alreadyCreated"in t&&i(6,v=t.alreadyCreated),"virtualList"in t&&i(7,y=t.virtualList),"vlItemSize"in t&&i(30,$=t.vlItemSize),"vlHeight"in t&&i(31,b=t.vlHeight),"inputValue"in t&&i(8,w=t.inputValue),"multiple"in t&&i(9,_=t.multiple),"listIndex"in t&&i(10,x=t.listIndex),"hasDropdownOpened"in t&&u(i(11,S=t.hasDropdownOpened)),"listMessage"in t&&i(12,A=t.listMessage),"disabledField"in t&&i(13,M=t.disabledField),"createLabel"in t&&i(14,k=t.createLabel),"metaKey"in t&&i(15,I=t.metaKey),"itemComponent"in t&&i(16,C=t.itemComponent),"selection"in t&&i(17,E=t.selection)},e.$$.update=()=>{32&e.$$.dirty[0]&&i(26,r=g.length),1835426&e.$$.dirty[0]&&(i(19,L=g.length<1&&(!h||!w)),y&&V&&D&&P&&(L&&i(0,d=null),i(21,R=0),ut().then(q).then(j))),2097184&e.$$.dirty[0]|8&e.$$.dirty[1]&&i(25,o=Math.min(H,Array.isArray(R)?R.reduce(((t,e)=>t+=e),0):g.length*R))},[d,h,f,p,m,g,v,y,w,_,x,S,A,M,k,I,C,E,D,L,P,R,N,T,F,o,r,l,O,c,$,b,z,function(){return y?[T.offsetHeight,R]:[T.offsetHeight,N.firstElementChild.offsetHeight]},H,function(t){et.call(this,e,t)},function(t){et.call(this,e,t)},function(t){et.call(this,e,t)},function(t){et.call(this,e,t)},function(t){it[t?"unshift":"push"]((()=>{F=t,i(24,F)}))},function(t){et.call(this,e,t)},function(t){et.call(this,e,t)},function(t){it[t?"unshift":"push"]((()=>{N=t,i(22,N)}))},function(t){it[t?"unshift":"push"]((()=>{T=t,i(23,T)}))}]}class Ts extends Ot{constructor(t){super(),zt(this,t,Ns,Os,l,{lazyDropdown:29,creatable:1,maxReached:2,dropdownIndex:0,renderer:3,disableHighlight:4,items:5,alreadyCreated:6,virtualList:7,vlItemSize:30,vlHeight:31,inputValue:8,multiple:9,listIndex:10,hasDropdownOpened:11,listMessage:12,disabledField:13,createLabel:14,metaKey:15,itemComponent:16,selection:17,scrollIntoView:32,getDimensions:33},null,[-1,-1])}get scrollIntoView(){return this.$$.ctx[32]}get getDimensions(){return this.$$.ctx[33]}}function Fs(e){let n;return{c(){n=I("button"),n.innerHTML='<svg height="16" width="16" viewBox="0 0 20 20" aria-hidden="true" focusable="false" class="svelte-w7c5vi"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>',F(n,"class","sv-item-btn svelte-w7c5vi"),F(n,"tabindex","-1"),F(n,"data-action","deselect"),F(n,"type","button")},m(t,e){A(t,n,e)},p:t,i:t,o:t,d(t){t&&M(n)}}}class Ds extends Ot{constructor(t){super(),zt(this,t,null,Fs,l,{})}}const Ls=t=>t.preventDefault();function Ps(t,{item:e,index:n}){function i(n){const i=n.target.closest('[data-action="deselect"]')?"deselect":"select";t.dispatchEvent(new CustomEvent(i,{bubble:!0,detail:e}))}function r(){t.dispatchEvent(new CustomEvent("hover",{detail:n}))}return t.onmousedown=Ls,t.onclick=i,t.addEventListener("mouseenter",r),{update(t){e=t.item,n=t.index},destroy(){t.removeEventListener("mousedown",Ls),t.removeEventListener("click",i),t.removeEventListener("mouseenter",r)}}}function Hs(t){let e,n,i,l,s,a,u,c,h=(t[3]?`<div class="sv-item-content">${t[6](t[2],t[3],t[0])}</div>`:gl(t[2],t[3],t[0],t[6],t[7]))+"",f=t[3]&&t[5]&&Vs();return{c(){e=I("div"),n=new V(!1),i=z(),f&&f.c(),n.a=i,F(e,"class","sv-item"),F(e,"title",l=t[2].$created?"Created item":""),R(e,"is-disabled",t[4])},m(r,o){A(r,e,o),n.m(h,e),_(e,i),f&&f.m(e,null),a=!0,u||(c=[g(s=Ps.call(null,e,{item:t[2],index:t[1]})),N(e,"select",t[9]),N(e,"deselect",t[10]),N(e,"hover",t[11])],u=!0)},p(t,i){(!a||205&i)&&h!==(h=(t[3]?`<div class="sv-item-content">${t[6](t[2],t[3],t[0])}</div>`:gl(t[2],t[3],t[0],t[6],t[7]))+"")&&n.p(h),t[3]&&t[5]?f?40&i&&bt(f,1):(f=Vs(),f.c(),bt(f,1),f.m(e,null)):f&&(yt(),wt(f,1,1,(()=>{f=null})),$t()),(!a||4&i&&l!==(l=t[2].$created?"Created item":""))&&F(e,"title",l),s&&o(s.update)&&6&i&&s.update.call(null,{item:t[2],index:t[1]}),(!a||16&i)&&R(e,"is-disabled",t[4])},i(t){a||(bt(f),a=!0)},o(t){wt(f),a=!1},d(t){t&&M(e),f&&f.d(),u=!1,r(c)}}}function Rs(e){let n,i,r,o,l,s=e[2].label+"";return{c(){n=I("div"),i=I("b"),r=E(s),F(n,"class","optgroup-header svelte-1e087o6")},m(t,s){A(t,n,s),_(n,i),_(i,r),o||(l=N(n,"mousedown",T(e[8])),o=!0)},p(t,e){4&e&&s!==(s=t[2].label+"")&&D(r,s)},i:t,o:t,d(t){t&&M(n),o=!1,l()}}}function Vs(t){let e,n;return e=new Ds({}),{c(){It(e.$$.fragment)},m(t,i){Ct(e,t,i),n=!0},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Et(e,t)}}}function js(t){let e,n,i,r;const o=[Rs,Hs],l=[];function s(t,e){return t[2].$isGroupHeader?0:1}return e=s(t),n=l[e]=o[e](t),{c(){n.c(),i=O()},m(t,n){l[e].m(t,n),A(t,i,n),r=!0},p(t,[r]){let a=e;e=s(t),e===a?l[e].p(t,r):(yt(),wt(l[a],1,1,(()=>{l[a]=null})),$t(),n=l[e],n?n.p(t,r):(n=l[e]=o[e](t),n.c()),bt(n,1),n.m(i.parentNode,i))},i(t){r||(bt(n),r=!0)},o(t){wt(n),r=!1},d(t){l[e].d(t),t&&M(i)}}}function qs(t,e,n){let{inputValue:i}=e,{index:r=-1}=e,{item:o={}}=e,{isSelected:l=!1}=e,{isDisabled:s=!1}=e,{isMultiple:a=!1}=e,{formatter:u=null}=e,{disableHighlight:c=!1}=e;return t.$$set=t=>{"inputValue"in t&&n(0,i=t.inputValue),"index"in t&&n(1,r=t.index),"item"in t&&n(2,o=t.item),"isSelected"in t&&n(3,l=t.isSelected),"isDisabled"in t&&n(4,s=t.isDisabled),"isMultiple"in t&&n(5,a=t.isMultiple),"formatter"in t&&n(6,u=t.formatter),"disableHighlight"in t&&n(7,c=t.disableHighlight)},[i,r,o,l,s,a,u,c,function(e){et.call(this,t,e)},function(e){et.call(this,t,e)},function(e){et.call(this,t,e)},function(e){et.call(this,t,e)}]}class Bs extends Ot{constructor(t){super(),zt(this,t,qs,js,l,{inputValue:0,index:1,item:2,isSelected:3,isDisabled:4,isMultiple:5,formatter:6,disableHighlight:7})}}function Gs(t,e,n){const i=t.slice();return i[118]=e[n],i}const Ws=t=>({}),Xs=t=>({}),Ks=t=>({}),Us=t=>({}),Qs=t=>({hasDropdownOpened:8388608&t[1]}),Ys=t=>({slot:"indicator-icon",hasDropdownOpened:t[54]}),Zs=t=>({selectedOptions:1073741824&t[0],inputValue:8&t[1]}),Js=t=>({slot:"clear-icon",selectedOptions:t[30],inputValue:t[34]});function ta(t){let e,n;const i=t[93].icon,r=u(i,t,t[98],Xs);return{c(){e=I("div"),r&&r.c(),F(e,"slot","icon"),F(e,"class","icon-slot svelte-oy0zpa")},m(t,i){A(t,e,i),r&&r.m(e,null),n=!0},p(t,e){r&&r.p&&(!n||32&e[3])&&f(r,i,t,t[98],n?h(i,t[98],e,Ws):d(t[98]),Xs)},i(t){n||(bt(r,t),n=!0)},o(t){wt(r,t),n=!1},d(t){t&&M(e),r&&r.d(t)}}}function ea(t){let e,n;const i=t[93]["control-end"],r=u(i,t,t[98],Us);return{c(){e=I("div"),r&&r.c(),F(e,"slot","control-end")},m(t,i){A(t,e,i),r&&r.m(e,null),n=!0},p(t,e){r&&r.p&&(!n||32&e[3])&&f(r,i,t,t[98],n?h(i,t[98],e,Ks):d(t[98]),Us)},i(t){n||(bt(r,t),n=!0)},o(t){wt(r,t),n=!1},d(t){t&&M(e),r&&r.d(t)}}}function na(e){let n;const i=e[93]["indicator-icon"],r=u(i,e,e[98],Ys),o=r||function(e){let n,i;return{c(){n=C("svg"),i=C("path"),F(i,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),F(n,"width","20"),F(n,"height","20"),F(n,"class","indicator-icon svelte-oy0zpa"),F(n,"viewBox","0 0 20 20"),F(n,"aria-hidden","true"),F(n,"focusable","false")},m(t,e){A(t,n,e),_(n,i)},p:t,d(t){t&&M(n)}}}();return{c(){o&&o.c()},m(t,e){o&&o.m(t,e),n=!0},p(t,e){r&&r.p&&(!n||8388608&e[1]|32&e[3])&&f(r,i,t,t[98],n?h(i,t[98],e,Qs):d(t[98]),Ys)},i(t){n||(bt(o,t),n=!0)},o(t){wt(o,t),n=!1},d(t){o&&o.d(t)}}}function ia(t){let e,n;return{c(){e=C("svg"),n=C("path"),F(n,"d","M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"),F(e,"class","indicator-icon svelte-oy0zpa"),F(e,"height","20"),F(e,"width","20"),F(e,"viewBox","0 0 20 20"),F(e,"aria-hidden","true"),F(e,"focusable","false")},m(t,i){A(t,e,i),_(e,n)},d(t){t&&M(e)}}}function ra(t){let e;const n=t[93]["clear-icon"],i=u(n,t,t[98],Js),r=i||function(t){let e,n=t[30].length&&ia();return{c(){n&&n.c(),e=O()},m(t,i){n&&n.m(t,i),A(t,e,i)},p(t,i){t[30].length?n||(n=ia(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&M(e)}}}(t);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,o){i?i.p&&(!e||1073741824&o[0]|8&o[1]|32&o[3])&&f(i,n,t,t[98],e?h(n,t[98],o,Zs):d(t[98]),Js):r&&r.p&&(!e||1073741824&o[0])&&r.p(t,e?o:[-1,-1,-1,-1])},i(t){e||(bt(r,t),e=!0)},o(t){wt(r,t),e=!1},d(t){r&&r.d(t)}}}function oa(t){let e,n,i,r=t[30],o=[];for(let e=0;e<r.length;e+=1)o[e]=la(Gs(t,r,e));return{c(){e=I("select");for(let t=0;t<o.length;t+=1)o[t].c();F(e,"id",t[43]),F(e,"name",t[2]),e.multiple=t[1],F(e,"class","is-hidden svelte-oy0zpa"),F(e,"tabindex","-1"),e.required=t[4],e.disabled=t[0]},m(r,l){A(r,e,l);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);n||(i=g(t[44].call(null,e,t[45])),n=!0)},p(t,n){if(1291845632&n[0]){let i;for(r=t[30],i=0;i<r.length;i+=1){const l=Gs(t,r,i);o[i]?o[i].p(l,n):(o[i]=la(l),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}4&n[0]&&F(e,"name",t[2]),2&n[0]&&(e.multiple=t[1]),16&n[0]&&(e.required=t[4]),1&n[0]&&(e.disabled=t[0])},d(t){t&&M(e),k(o,t),n=!1,i()}}}function la(t){let e,n,i,r=t[118][t[27]]+"";return{c(){e=I("option"),n=E(r),e.__value=i=t[118][t[24]?t[27]:t[26]],e.value=e.__value,e.selected=!0},m(t,i){A(t,e,i),_(e,n)},p(t,o){1207959552&o[0]&&r!==(r=t[118][t[27]]+"")&&D(n,r),1291845632&o[0]&&i!==(i=t[118][t[24]?t[27]:t[26]])&&(e.__value=i,e.value=e.__value)},d(t){t&&M(e)}}}function sa(t){let e,n,i,r,o,l,s,a={renderer:t[41],disabled:t[0],clearable:t[9],searchable:t[8],placeholder:t[7],multiple:t[1],inputId:t[3]||t[43],resetOnBlur:t[11],collapseSelection:t[15]?ua.collapseSelectionFn.bind(t[29]):null,inputValue:t[46],hasFocus:t[47],hasDropdownOpened:t[54],selectedOptions:t[30],isFetchingData:t[28],dndzone:t[12],currentValueField:t[26],isAndroid:t[38],isIOS:t[37],alwaysCollapsed:t[16],itemComponent:t[14],$$slots:{"clear-icon":[ra],"indicator-icon":[na,({hasDropdownOpened:t})=>({54:t}),({hasDropdownOpened:t})=>[0,t?8388608:0]],"control-end":[ea],icon:[ta]},$$scope:{ctx:t}};n=new Yl({props:a}),t[94](n),n.$on("deselect",t[49]),n.$on("keydown",t[51]),n.$on("paste",t[52]),n.$on("consider",t[53]),n.$on("finalize",t[53]),n.$on("blur",t[95]);let u={renderer:t[41],disableHighlight:t[10],creatable:t[17],maxReached:t[33],alreadyCreated:t[39],virtualList:t[19],vlHeight:t[20],vlItemSize:t[21],lazyDropdown:t[19]||t[18],multiple:t[1],dropdownIndex:t[25],items:t[32],listIndex:t[31],inputValue:t[40],hasDropdownOpened:t[54],listMessage:t[42],disabledField:t[6],createLabel:t[29].createRowLabel,metaKey:t[37]?"⌘":"Ctrl",selection:t[15]&&t[16]?t[30]:null,itemComponent:t[13]};r=new Ts({props:u}),t[96](r),r.$on("select",t[48]),r.$on("deselect",t[49]),r.$on("hover",t[50]),r.$on("createoption",t[97]);let c=t[2]&&!t[5]&&oa(t);return{c(){e=I("div"),It(n.$$.fragment),i=z(),It(r.$$.fragment),o=z(),c&&c.c(),F(e,"class",l=p(`svelecte ${t[22]}`)+" svelte-oy0zpa"),F(e,"style",t[23]),R(e,"is-disabled",t[0])},m(t,l){A(t,e,l),Ct(n,e,null),_(e,i),Ct(r,e,null),_(e,o),c&&c.m(e,null),s=!0},p(t,i){const o={};1024&i[1]&&(o.renderer=t[41]),1&i[0]&&(o.disabled=t[0]),512&i[0]&&(o.clearable=t[9]),256&i[0]&&(o.searchable=t[8]),128&i[0]&&(o.placeholder=t[7]),2&i[0]&&(o.multiple=t[1]),8&i[0]&&(o.inputId=t[3]||t[43]),2048&i[0]&&(o.resetOnBlur=t[11]),536903680&i[0]&&(o.collapseSelection=t[15]?ua.collapseSelectionFn.bind(t[29]):null),1073741824&i[0]&&(o.selectedOptions=t[30]),268435456&i[0]&&(o.isFetchingData=t[28]),4096&i[0]&&(o.dndzone=t[12]),67108864&i[0]&&(o.currentValueField=t[26]),128&i[1]&&(o.isAndroid=t[38]),64&i[1]&&(o.isIOS=t[37]),65536&i[0]&&(o.alwaysCollapsed=t[16]),16384&i[0]&&(o.itemComponent=t[14]),1073741824&i[0]|8388616&i[1]|32&i[3]&&(o.$$scope={dirty:i,ctx:t}),n.$set(o);const a={};1024&i[1]&&(a.renderer=t[41]),1024&i[0]&&(a.disableHighlight=t[10]),131072&i[0]&&(a.creatable=t[17]),4&i[1]&&(a.maxReached=t[33]),256&i[1]&&(a.alreadyCreated=t[39]),524288&i[0]&&(a.virtualList=t[19]),1048576&i[0]&&(a.vlHeight=t[20]),2097152&i[0]&&(a.vlItemSize=t[21]),786432&i[0]&&(a.lazyDropdown=t[19]||t[18]),2&i[0]&&(a.multiple=t[1]),33554432&i[0]&&(a.dropdownIndex=t[25]),2&i[1]&&(a.items=t[32]),1&i[1]&&(a.listIndex=t[31]),512&i[1]&&(a.inputValue=t[40]),2048&i[1]&&(a.listMessage=t[42]),64&i[0]&&(a.disabledField=t[6]),536870912&i[0]&&(a.createLabel=t[29].createRowLabel),64&i[1]&&(a.metaKey=t[37]?"⌘":"Ctrl"),1073840128&i[0]&&(a.selection=t[15]&&t[16]?t[30]:null),8192&i[0]&&(a.itemComponent=t[13]),r.$set(a),t[2]&&!t[5]?c?c.p(t,i):(c=oa(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null),(!s||4194304&i[0]&&l!==(l=p(`svelecte ${t[22]}`)+" svelte-oy0zpa"))&&F(e,"class",l),(!s||8388608&i[0])&&F(e,"style",t[23]),(!s||4194305&i[0])&&R(e,"is-disabled",t[0])},i(t){s||(bt(n.$$.fragment,t),bt(r.$$.fragment,t),s=!0)},o(t){wt(n.$$.fragment,t),wt(r.$$.fragment,t),s=!1},d(i){i&&M(e),t[94](null),Et(n),t[96](null),Et(r),c&&c.d()}}}const aa={default(t){return t[this.label]}},ua=wl;function ca(t,e,n){let i,r,o,l,s,u,c,h,f,d,p,{$$slots:g={},$$scope:v}=e,{name:y="svelecte"}=e,{inputId:$=null}=e,{required:b=!1}=e,{hasAnchor:w=!1}=e,{disabled:_=wl.disabled}=e,{options:x=[]}=e,{valueField:S=wl.valueField}=e,{labelField:A=wl.labelField}=e,{groupLabelField:M=wl.groupLabelField}=e,{groupItemsField:k=wl.groupItemsField}=e,{disabledField:I=wl.disabledField}=e,{placeholder:C="Select"}=e,{searchable:E=wl.searchable}=e,{clearable:z=wl.clearable}=e,{renderer:O=null}=e,{disableHighlight:N=!1}=e,{selectOnTab:T=wl.selectOnTab}=e,{resetOnBlur:F=wl.resetOnBlur}=e,{resetOnSelect:D=wl.resetOnSelect}=e,{closeAfterSelect:L=wl.closeAfterSelect}=e,{dndzone:P=(()=>({noop:!0,destroy:()=>{}}))}=e,{validatorAction:H=null}=e,{dropdownItem:R=Bs}=e,{controlItem:V=Bs}=e,{multiple:j=wl.multiple}=e,{max:q=wl.max}=e,{collapseSelection:B=wl.collapseSelection}=e,{alwaysCollapsed:G=wl.alwaysCollapsed}=e,{creatable:W=wl.creatable}=e,{creatablePrefix:X=wl.creatablePrefix}=e,{allowEditing:K=wl.allowEditing}=e,{keepCreated:U=wl.keepCreated}=e,{delimiter:Q=wl.delimiter}=e,{createFilter:Y=null}=e,{createTransform:J=null}=e,{fetch:nt=null}=e,{fetchMode:rt="auto"}=e,{fetchCallback:ot=wl.fetchCallback}=e,{fetchResetOnBlur:lt=!0}=e,{minQuery:st=wl.minQuery}=e,{lazyDropdown:at=wl.lazyDropdown}=e,{virtualList:ct=wl.virtualList}=e,{vlHeight:ht=wl.vlHeight}=e,{vlItemSize:ft=wl.vlItemSize}=e,{searchField:dt=null}=e,{sortField:pt=null}=e,{disableSifter:mt=!1}=e,{class:gt="svelecte-control"}=e,{style:vt=null}=e,{i18n:yt=null}=e,{readSelection:$t=null}=e,{value:bt=null}=e,{labelAsValue:wt=!1}=e,{valueAsObject:_t=wl.valueAsObject}=e;const xt=`sv-select-${Math.random()}`.replace(".",""),St=tt(),At={optionsWithGroups:!1,isOptionArray:x&&x.length&&"object"!=typeof x[0],optionProps:[],valueField:S,labelField:A,labelAsValue:wt,optLabel:M,optItems:k};nt&&bt&&_t&&(!x||x&&0===x.length)&&(x=Array.isArray(bt)?bt:[bt]);let Mt,kt,It=!1,Ct=!1,Et=null,zt=S||yl("value",x,At),Ot=A||yl("label",x,At),Nt=!1,Tt=!1,Ft=H?H.shift():()=>({destroy:()=>{}}),Dt=H||[],Lt=null;At.valueField=zt,At.labelField=Ot,At.optionProps=bt&&_t&&(!j||!Array.isArray(bt)||bt.length>0)?Ml(j?bt.slice(0,1).shift():bt):[zt,Ot],j=y&&!j?y.endsWith("[]"):j,Y||(Y=$l);const Pt=xl("");a(t,Pt,(t=>n(34,f=t)));const Ht=xl(!1);a(t,Ht,(t=>n(106,p=t)));const Rt=xl(!1);a(t,Rt,(t=>n(105,d=t)));let Vt=!1,jt="init"===rt||"auto"===rt&&"string"==typeof nt&&-1===nt.indexOf("[query]"),qt=jt?bt:null,Bt=null;function Gt(){return It&&Vt&&(ml&&![0,4].includes(ml.readyState)&&ml.abort(),n(28,Vt=!1)),!0}function Wt(t){if(Bt&&(Bt(),Bt=null),!t)return null;Gt(),jt&&Xt&&(qt=Xt);const e="string"==typeof t?(i=t,function(t,e){return new Promise(((n,r)=>{ml=new XMLHttpRequest,ml.open("GET",`${i.replace("[query]",encodeURIComponent(t))}`),ml.setRequestHeader("X-Requested-With","XMLHttpRequest"),ml.send(),ml.onreadystatechange=function(){if(4===this.readyState)if(200===this.status)try{const t=JSON.parse(this.response);n(e?e(t):t.data||t.items||t.options||t)}catch(t){console.warn("[Svelecte]:Fetch - error handling fetch response",t),r()}else r()}}))}):t;var i;n(90,jt="init"===rt||"auto"===rt&&"string"==typeof t&&-1===t.indexOf("[query]"));const r=function(t,e){let n;return function(){const i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){t.apply(i,r)}),e)}}((t=>{!t||f.length?e(t,ot).then((t=>{Array.isArray(t)||(console.warn("[Svelecte]:Fetch - array expected, invalid property provided:",t),t=[]),n(55,x=t)})).catch((()=>{n(55,x=[])})).finally((()=>{n(28,Vt=!1),p&&Rt.set(!0),n(42,u=Kt.fetchEmpty),ut().then((()=>{jt&&qt&&(te(qt),qt=null),St("fetch",x)}))})):n(28,Vt=!1)}),500);return jt?("string"==typeof t&&-1!==t.indexOf("[parent]")||(n(28,Vt=!0),n(55,x=[]),r(null)),null):(Bt=Pt.subscribe((t=>{Gt(),t?t&&t.length<st||(!jt&&Rt.set(!1),n(28,Vt=!0),r(t)):It&&lt&&n(55,x=[])})),r)}let Xt=bt,Kt=ua.i18n,Ut=null!==bt?Sl.call(x,bt,_t,At):[],Qt=Ut.reduce(((t,e)=>(t.add(e[zt]),t)),new Set),Yt=[""],Zt=x;function Jt(){ut().then((()=>{St("change",$t),Lt&&(Lt.dispatchEvent(new Event("input")),Lt.dispatchEvent(new Event("change")))}))}function te(t){if(ne(),t){let e=Array.isArray(t)?t:[t];const r=At.labelAsValue?Ot:zt;if(e=e.reduce(((t,e)=>{if(W&&_t&&e.$created)return t.push(e),t;const n=i.find((t=>_t?t[r]==e[r]:t[r]==e));return n&&t.push(n),t}),[]),!(e.every(ee)&&(j?t.length===e.length:e.length>0)))return console.warn('[Svelecte]: provided "value" property is invalid',t),n(59,bt=j?[]:null),n(60,$t=bt),void St("invalidValue",t);n(60,$t=Array.isArray(t)?e:e.shift())}n(91,Xt=t)}function ee(t){if(!t||j&&r)return!1;if(!Qt.has(t[zt])){if("string"==typeof t){if(!W)return;if(t=Y(t,x),Yt.includes(t))return;!nt&&Yt.push(t),(t=J(t,X,zt,Ot)).$created=!0,U&&n(55,x=[...x,t]),St("createoption",t)}return j?(Ut.push(t),n(30,Ut),Qt.add(t[zt])):(n(30,Ut=[t]),Qt.clear(),Qt.add(t[zt]),n(25,Et=x.indexOf(t))),n(92,i),n(55,x),n(88,At),n(89,It),n(111,Zt),n(61,S),n(26,zt),n(62,A),n(27,Ot),n(24,wt),!0}}function ne(){Qt.clear(),n(30,Ut=[]),n(33,r=!1),n(92,i),n(55,x),n(88,At),n(89,It),n(111,Zt),n(61,S),n(26,zt),n(62,A),n(27,Ot),n(24,wt)}function ie(t,e){e=e||t.detail,_||e[I]||e.$isGroupHeader||(ee(e),(j&&D||!j)&&m(Pt,f="",f),!j||L?m(Rt,d=!1,d):ut().then((()=>{n(25,Et=r?null:s.next(Et-1,!0))})),Jt())}function re(t,e){_||((e=e||t.detail)?function(t){t.$created&&oe&&K&&(Yt.splice(Yt.findIndex((e=>e===t[wt?Ot:zt])),1),n(39,Yt),U&&(x.splice(x.findIndex((e=>e===t)),1),n(55,x)),m(Pt,f=t[Ot].replace(X,""),f));const e=t[zt];Qt.delete(e),Ut.splice(Ut.findIndex((t=>t[zt]==e)),1),n(30,Ut),n(92,i),n(55,x),n(88,At),n(89,It),n(111,Zt),n(61,S),n(26,zt),n(62,A),n(27,Ot),n(24,wt)}(e):ne(),ut().then(kt.focusControl),Jt())}let oe=!1;return Z((()=>{if(n(89,It=!0),W){const t=At.labelAsValue?Ot:zt;n(39,Yt=[""].concat(i.map((e=>e[t])).filter((t=>t))))}if(n(25,Et=s.first),Xt&&!j){const t=wt?Ot:zt,e=_t?Xt[t]:Xt;n(25,Et=i.findIndex((n=>n[t]===e)))}n(37,Nt=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document),n(38,Tt=navigator.userAgent.toLowerCase().includes("android")),y&&!w&&(Lt=document.getElementById(xt))})),t.$$set=t=>{"name"in t&&n(2,y=t.name),"inputId"in t&&n(3,$=t.inputId),"required"in t&&n(4,b=t.required),"hasAnchor"in t&&n(5,w=t.hasAnchor),"disabled"in t&&n(0,_=t.disabled),"options"in t&&n(55,x=t.options),"valueField"in t&&n(61,S=t.valueField),"labelField"in t&&n(62,A=t.labelField),"groupLabelField"in t&&n(63,M=t.groupLabelField),"groupItemsField"in t&&n(64,k=t.groupItemsField),"disabledField"in t&&n(6,I=t.disabledField),"placeholder"in t&&n(7,C=t.placeholder),"searchable"in t&&n(8,E=t.searchable),"clearable"in t&&n(9,z=t.clearable),"renderer"in t&&n(65,O=t.renderer),"disableHighlight"in t&&n(10,N=t.disableHighlight),"selectOnTab"in t&&n(66,T=t.selectOnTab),"resetOnBlur"in t&&n(11,F=t.resetOnBlur),"resetOnSelect"in t&&n(67,D=t.resetOnSelect),"closeAfterSelect"in t&&n(68,L=t.closeAfterSelect),"dndzone"in t&&n(12,P=t.dndzone),"validatorAction"in t&&n(69,H=t.validatorAction),"dropdownItem"in t&&n(13,R=t.dropdownItem),"controlItem"in t&&n(14,V=t.controlItem),"multiple"in t&&n(1,j=t.multiple),"max"in t&&n(70,q=t.max),"collapseSelection"in t&&n(15,B=t.collapseSelection),"alwaysCollapsed"in t&&n(16,G=t.alwaysCollapsed),"creatable"in t&&n(17,W=t.creatable),"creatablePrefix"in t&&n(71,X=t.creatablePrefix),"allowEditing"in t&&n(72,K=t.allowEditing),"keepCreated"in t&&n(73,U=t.keepCreated),"delimiter"in t&&n(74,Q=t.delimiter),"createFilter"in t&&n(56,Y=t.createFilter),"createTransform"in t&&n(57,J=t.createTransform),"fetch"in t&&n(58,nt=t.fetch),"fetchMode"in t&&n(75,rt=t.fetchMode),"fetchCallback"in t&&n(76,ot=t.fetchCallback),"fetchResetOnBlur"in t&&n(77,lt=t.fetchResetOnBlur),"minQuery"in t&&n(78,st=t.minQuery),"lazyDropdown"in t&&n(18,at=t.lazyDropdown),"virtualList"in t&&n(19,ct=t.virtualList),"vlHeight"in t&&n(20,ht=t.vlHeight),"vlItemSize"in t&&n(21,ft=t.vlItemSize),"searchField"in t&&n(79,dt=t.searchField),"sortField"in t&&n(80,pt=t.sortField),"disableSifter"in t&&n(81,mt=t.disableSifter),"class"in t&&n(22,gt=t.class),"style"in t&&n(23,vt=t.style),"i18n"in t&&n(82,yt=t.i18n),"readSelection"in t&&n(60,$t=t.readSelection),"value"in t&&n(59,bt=t.value),"labelAsValue"in t&&n(24,wt=t.labelAsValue),"valueAsObject"in t&&n(83,_t=t.valueAsObject),"$$scope"in t&&n(98,v=t.$$scope)},t.$$.update=()=>{if(67108864&t.$$.dirty[1]&&(J||n(57,J=bl)),134217728&t.$$.dirty[1]&&Wt(nt),1&t.$$.dirty[0]&&_&&Rt.set(!1),1048576&t.$$.dirty[2]&&yt&&"object"==typeof yt&&n(29,Kt=Object.assign({},ua.i18n,yt)),201326592&t.$$.dirty[0]|1090519040&t.$$.dirty[1]|201326593&t.$$.dirty[2]&&It&&Zt!==x&&x.length){const t=yl("value",x||null,At),e=yl("label",x||null,At);S||zt===t||n(88,At.valueField=n(26,zt=t),At),A||Ot===e||n(88,At.labelField=n(27,Ot=e),At)}if(16777216&t.$$.dirty[0]&&n(88,At.labelAsValue=wt,At),16777216&t.$$.dirty[1]|67108864&t.$$.dirty[2]&&n(92,i=Al(x,At)),1275068418&t.$$.dirty[0]|606076928&t.$$.dirty[2]){const t=Ut.map((t=>{const{$disabled:e,$isGroupItem:n,...i}=t;return i})),e=j?t:t.length?t[0]:null,i=At.labelAsValue?Ot:zt;n(91,Xt=_t?e:j?e.map((t=>t[i])):Ut.length?e[i]:null),n(59,bt=Xt),n(60,$t=e)}268435456&t.$$.dirty[1]|536870912&t.$$.dirty[2]&&Xt!==bt&&te(bt),1073741824&t.$$.dirty[0]|256&t.$$.dirty[2]&&n(33,r=q&&Ut.length==q),2&t.$$.dirty[0]|12&t.$$.dirty[1]|1141768192&t.$$.dirty[2]&&n(32,o=r?[]:function(t,e,n,i,r,o){if(n&&(t=t.filter((t=>!n.has(t[o.valueField]))).filter(((t,e,n)=>!t.$isGroupHeader||!(n[e+1]&&n[e+1].$isGroupHeader||n.length<=1||n.length-1===e)))),!e)return t;const l=new ll(t);o.optionsWithGroups&&(l.getSortFunction=()=>null);let s="and";e.startsWith("|| ")&&(s="or",e=e.substr(2));const a=l.search(e,{fields:i||o.optionProps,sort:(u=r||o.labelField,[{field:u,direction:"asc"}]),conjunction:s});var u;return o.optionsWithGroups?a.items.reduce(((e,i)=>{const r=t[i.id];if(n&&r.isSelected)return e;const o=e.push(r);if(r.$isGroupItem){const n=t.slice(0,i.id);let r=null;do{r=n.pop(),r&&r.$isGroupHeader&&!e.includes(r)&&e.splice(o-1,0,r)}while(r&&!r.$isGroupHeader)}return e}),[]):a.items.map((e=>t[e.id]))}(i,mt?null:f,!!j&&Qt,dt,pt,At)),131072&t.$$.dirty[0]|10&t.$$.dirty[1]&&(l=W&&f?o.length:o.length-1),131072&t.$$.dirty[0]|10&t.$$.dirty[1]|67108864&t.$$.dirty[2]&&n(31,s=function(t,e,n){const i=n.optionsWithGroups?t.reduce(((t,e,n)=>(t.push(e.$isGroupHeader?"":n),t)),[]):Object.keys(t);return{map:i,first:""!==i[0]?0:1,last:i.length?i.length-(e?0:1):0,hasCreateRow:!!e,next(t,e){const n=this.map[++t];return this.hasCreateRow&&t===this.last?this.last:""===n?this.next(t):void 0===n?this.map.length?(t>this.map.length&&(t=this.first-1),!0===e?this.prev(t):this.next(t)):0:n},prev(t){const e=this.map[--t];return this.hasCreateRow&&t===this.first?this.first:""===e?this.prev(t):e||this.last}}}(o,W&&f,At)),33554432&t.$$.dirty[0]|1&t.$$.dirty[1]&&(null===Et?n(25,Et=s.first):Et>s.last?n(25,Et=s.last):Et<s.first&&n(25,Et=s.first)),805306368&t.$$.dirty[0]|134217742&t.$$.dirty[1]|268501248&t.$$.dirty[2]&&n(42,u=r?Kt.max(q):f.length&&0===o.length&&st<=1?Kt.nomatch:nt?st<=1?jt?Vt?Kt.fetchInit:Kt.empty:Kt.fetchBefore:Kt.fetchQuery(st,f.length):Kt.empty),134217728&t.$$.dirty[0]|8&t.$$.dirty[2]&&n(41,c="function"==typeof O?O:aa[O]||aa.default.bind({label:Ot})),50331656&t.$$.dirty[1]&&n(40,h=Y(f,x))},[_,j,y,$,b,w,I,C,E,z,N,F,P,R,V,B,G,W,at,ct,ht,ft,gt,vt,wt,Et,zt,Ot,Vt,Kt,Ut,s,o,r,f,Mt,kt,Nt,Tt,Yt,h,c,u,xt,Ft,Dt,Pt,Ht,ie,re,function(t){Ct?Ct=!1:n(25,Et=t.detail)},function(t){if(t=t.detail,W&&Q.indexOf(t.key)>-1)return f.length>0&&ie(null,f),void t.preventDefault();const e=T&&d&&!t.shiftKey?"Tab":"No-tab";let i=Nt?t.metaKey:t.ctrlKey,r=["PageUp","PageDown"].includes(t.key);switch(t.key){case"End":if(0!==f.length)return;n(25,Et=s.first);case"PageDown":if(r){const[t,e]=Mt.getDimensions();n(25,Et=Math.ceil((e*Et+t)/e))}case"ArrowUp":if(t.preventDefault(),!d)return void m(Rt,d=!0,d);n(25,Et=s.prev(Et)),ut().then(Mt.scrollIntoView),Ct=!0;break;case"Home":if(0!==f.length||0===f.length&&0===o.length)return;n(25,Et=s.last);case"PageUp":if(r){const[t,e]=Mt.getDimensions();n(25,Et=Math.floor((e*Et-t)/e))}case"ArrowDown":if(t.preventDefault(),!d)return void m(Rt,d=!0,d);n(25,Et=s.next(Et)),ut().then(Mt.scrollIntoView),Ct=!0;break;case"Escape":d&&(t.preventDefault(),t.stopPropagation()),f||m(Rt,d=!1,d),Gt(),m(Pt,f="",f);break;case e:case"Enter":if(!d)return void(t.key!==e&&St("enterKey",t));let a=i?null:o[Et];if(W&&f&&(a=!a||i?f:a,i=!1),!i&&a&&ie(null,a),o.length<=Et&&n(25,Et=l>0?l:s.first),!a&&Ut.length)return m(Rt,d=!1,d),void(t.key!==e&&St("enterKey",t));(t.key!==e||t.key===e&&"select-navigate"!==T)&&t.preventDefault();break;case" ":nt||d||(m(Rt,d=!0,d),t.preventDefault()),!j&&Ut.length&&t.preventDefault();break;case"Backspace":oe=!0;case"Delete":""===f&&Ut.length&&(i?re({}):re(null,Ut[Ut.length-1]),t.preventDefault()),oe=!1;default:i||["Tab","Shift"].includes(t.key)||d||Vt||m(Rt,d=!0,d),!j&&Ut.length&&"Tab"!==t.key&&(t.preventDefault(),t.stopPropagation())}},function(t){if(W){t.preventDefault();const e=new RegExp("([^"+Q+"\\n]+)","g"),n=t.clipboardData.getData("text/plain").replace(/\//g,"/").replace(/\t/g," "),i=n.match(e);1===i.length&&-1===n.indexOf(",")&&m(Pt,f=i.pop().trim(),f),i.forEach((t=>ie(null,t.trim())))}},function(t){n(30,Ut=t.detail.items)},Rt,x,Y,J,nt,bt,$t,S,A,M,k,O,T,D,L,H,q,X,K,U,Q,rt,ot,lt,st,dt,pt,mt,yt,_t,t=>{kt.focusControl(t)},t=>{if(!Ut.length)return j?[]:null;const e=Ut.map((e=>t?e[wt?Ot:zt]:Object.assign({},e)));return j?e:e[0]},(t,e)=>{te(t),e&&Jt()},t=>{ne(),Jt(),t&&(n(0,_=!0),n(58,nt=null))},At,It,jt,Xt,i,g,function(t){it[t?"unshift":"push"]((()=>{kt=t,n(36,kt)}))},function(e){et.call(this,t,e)},function(t){it[t?"unshift":"push"]((()=>{Mt=t,n(35,Mt)}))},function(e){et.call(this,t,e)},v]}class ha extends Ot{constructor(t){super(),zt(this,t,ca,sa,l,{name:2,inputId:3,required:4,hasAnchor:5,disabled:0,options:55,valueField:61,labelField:62,groupLabelField:63,groupItemsField:64,disabledField:6,placeholder:7,searchable:8,clearable:9,renderer:65,disableHighlight:10,selectOnTab:66,resetOnBlur:11,resetOnSelect:67,closeAfterSelect:68,dndzone:12,validatorAction:69,dropdownItem:13,controlItem:14,multiple:1,max:70,collapseSelection:15,alwaysCollapsed:16,creatable:17,creatablePrefix:71,allowEditing:72,keepCreated:73,delimiter:74,createFilter:56,createTransform:57,fetch:58,fetchMode:75,fetchCallback:76,fetchResetOnBlur:77,minQuery:78,lazyDropdown:18,virtualList:19,vlHeight:20,vlItemSize:21,searchField:79,sortField:80,disableSifter:81,class:22,style:23,i18n:82,readSelection:60,value:59,labelAsValue:24,valueAsObject:83,focus:84,getSelection:85,setSelection:86,clearByParent:87},null,[-1,-1,-1,-1])}get focus(){return this.$$.ctx[84]}get getSelection(){return this.$$.ctx[85]}get setSelection(){return this.$$.ctx[86]}get clearByParent(){return this.$$.ctx[87]}}function fa(e){let n;return{c(){n=E("Error loading index")},m(t,e){A(t,n,e)},p:t,i:t,o:t,d(t){t&&M(n)}}}function da(t){let e,n,i;function r(e){t[1](e)}let o={options:t[2],placeholder:"Sailnumber, name or type",virtualList:!0,renderer:ga};return void 0!==t[0]&&(o.value=t[0]),e=new ha({props:o}),it.push((()=>kt(e,"value",r))),{c(){It(e.$$.fragment)},m(t,n){Ct(e,t,n),i=!0},p(t,i){const r={};!n&&1&i&&(n=!0,r.value=t[0],ht((()=>n=!1))),e.$set(r)},i(t){i||(bt(e.$$.fragment,t),i=!0)},o(t){wt(e.$$.fragment,t),i=!1},d(t){Et(e,t)}}}function pa(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function ma(t){let e,n,i={ctx:t,current:null,token:null,hasCatch:!0,pending:pa,then:da,catch:fa,value:2,blocks:[,,,]};return _t(Wo(),i),{c(){e=O(),i.block.c()},m(t,r){A(t,e,r),i.block.m(t,i.anchor=r),i.mount=()=>e.parentNode,i.anchor=e,n=!0},p(e,[n]){xt(i,t=e,n)},i(t){n||(bt(i.block),n=!0)},o(t){for(let t=0;t<3;t+=1){wt(i.blocks[t])}n=!1},d(t){t&&M(e),i.block.d(t),i.token=null,i=null}}}function ga({sailnumber:t,name:e,type:n}){return`<span class="sailnumber">${t}</span> ${e} (${n})`}function va(t,e,n){let{sailnumber:i}=e;return t.$$set=t=>{"sailnumber"in t&&n(0,i=t.sailnumber)},[i,function(t){i=t,n(0,i)}]}class ya extends Ot{constructor(t){super(),zt(this,t,va,ma,l,{sailnumber:0})}}function $a(e){let n,i,r=ba(e[0])+"";return{c(){n=I("span"),i=E(r),F(n,"class","sailnumber")},m(t,e){A(t,n,e),_(n,i)},p(t,[e]){1&e&&r!==(r=ba(t[0])+"")&&D(i,r)},i:t,o:t,d(t){t&&M(n)}}}function ba(t){if(t)return t.substr(0,3)==t.substr(4,3)?t.substr(4):t}function wa(t,e,n){let{number:i}=e;return t.$$set=t=>{"number"in t&&n(0,i=t.number)},[i]}class _a extends Ot{constructor(t){super(),zt(this,t,wa,$a,l,{number:0})}}function xa(t){let e,n,i,r,o,l,s=t[1].name+"";return e=new _a({props:{number:t[0]}}),o=new So({props:{boat:t[1]}}),{c(){It(e.$$.fragment),n=z(),i=E(s),r=z(),It(o.$$.fragment)},m(t,s){Ct(e,t,s),A(t,n,s),A(t,i,s),A(t,r,s),Ct(o,t,s),l=!0},p(t,n){const r={};1&n&&(r.number=t[0]),e.$set(r),(!l||2&n)&&s!==(s=t[1].name+"")&&D(i,s);const a={};2&n&&(a.boat=t[1]),o.$set(a)},i(t){l||(bt(e.$$.fragment,t),bt(o.$$.fragment,t),l=!0)},o(t){wt(e.$$.fragment,t),wt(o.$$.fragment,t),l=!1},d(t){Et(e,t),t&&M(n),t&&M(i),t&&M(r),Et(o,t)}}}function Sa(t){let e,n,i=t[1]&&xa(t);return{c(){i&&i.c(),e=O()},m(t,r){i&&i.m(t,r),A(t,e,r),n=!0},p(t,[n]){t[1]?i?(i.p(t,n),2&n&&bt(i,1)):(i=xa(t),i.c(),bt(i,1),i.m(e.parentNode,e)):i&&(yt(),wt(i,1,1,(()=>{i=null})),$t())},i(t){n||(bt(i),n=!0)},o(t){wt(i),n=!1},d(t){i&&i.d(t),t&&M(e)}}}function Aa(t,e,n){let i,{sailnumber:r}=e;return t.$$set=t=>{"sailnumber"in t&&n(0,r=t.sailnumber)},t.$$.update=()=>{1&t.$$.dirty&&r&&async function(t){n(1,i=await Uo(t))}(r)},[r,i]}class Ma extends Ot{constructor(t){super(),zt(this,t,Aa,Sa,l,{sailnumber:0})}}function ka(t,e,n){const i=t.slice();return i[6]=e[n],i}function Ia(t){let e,n,i,r;return n=new Ma({props:{sailnumber:t[6]}}),{c(){e=I("div"),It(n.$$.fragment),i=z(),F(e,"class","col")},m(t,o){A(t,e,o),Ct(n,e,null),_(e,i),r=!0},p(t,e){const i={};4&e&&(i.sailnumber=t[6]),n.$set(i)},i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){wt(n.$$.fragment,t),r=!1},d(t){t&&M(e),Et(n)}}}function Ca(t){let e,n,i,r,o,l,s,a,u,c,h,f;function d(e){t[3](e)}let p={};function m(e){t[4](e)}void 0!==t[0]&&(p.sailnumber=t[0]),r=new ya({props:p}),it.push((()=>kt(r,"sailnumber",d)));let g={};void 0!==t[1]&&(g.sailnumber=t[1]),a=new ya({props:g}),it.push((()=>kt(a,"sailnumber",m)));let v=t[2],y=[];for(let e=0;e<v.length;e+=1)y[e]=Ia(ka(t,v,e));const $=t=>wt(y[t],1,1,(()=>{y[t]=null}));return{c(){e=I("div"),n=I("div"),i=I("div"),It(r.$$.fragment),l=z(),s=I("div"),It(a.$$.fragment),c=z(),h=I("div");for(let t=0;t<y.length;t+=1)y[t].c();F(i,"class","col"),F(s,"class","col"),F(n,"class","row p-2 row-cols-2"),F(h,"class","row p-2 row-cols-2"),F(e,"class","container-fluid")},m(t,o){A(t,e,o),_(e,n),_(n,i),Ct(r,i,null),_(n,l),_(n,s),Ct(a,s,null),_(e,c),_(e,h);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(h,null);f=!0},p(t,[e]){const n={};!o&&1&e&&(o=!0,n.sailnumber=t[0],ht((()=>o=!1))),r.$set(n);const i={};if(!u&&2&e&&(u=!0,i.sailnumber=t[1],ht((()=>u=!1))),a.$set(i),4&e){let n;for(v=t[2],n=0;n<v.length;n+=1){const i=ka(t,v,n);y[n]?(y[n].p(i,e),bt(y[n],1)):(y[n]=Ia(i),y[n].c(),bt(y[n],1),y[n].m(h,null))}for(yt(),n=v.length;n<y.length;n+=1)$(n);$t()}},i(t){if(!f){bt(r.$$.fragment,t),bt(a.$$.fragment,t);for(let t=0;t<v.length;t+=1)bt(y[t]);f=!0}},o(t){wt(r.$$.fragment,t),wt(a.$$.fragment,t),y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)wt(y[t]);f=!1},d(t){t&&M(e),Et(r),Et(a),k(y,t)}}}const Ea="compare-";function za(t,e,n){let i,r,o=[];return Z((()=>{const t=window.location.hash.substring(1);t.startsWith(Ea)&&n(0,[i,r]=t.substring(Ea.length).split("|"),i,n(1,r))})),t.$$.update=()=>{3&t.$$.dirty&&n(2,o=function(t){return t.some((t=>t))&&(window.location.hash=`${Ea}${t.join("|")}`),t}([i,r]))},[i,r,o,function(t){i=t,n(0,i)},function(t){r=t,n(1,r)}]}class Oa extends Ot{constructor(t){super(),zt(this,t,za,Ca,l,{})}}function Na(t){let e,n;return{c(){e=I("div"),n=E(t[2]),F(e,"class","alert alert-warning"),F(e,"role","alert")},m(t,i){A(t,e,i),_(e,n)},p(t,e){4&e&&D(n,t[2])},d(t){t&&M(e)}}}function Ta(t){let e,n,i,r,o,l,s,a,u,c,h=t[2]&&Na(t);return r=new So({props:{boat:t[1]}}),{c(){e=I("div"),n=I("div"),h&&h.c(),i=z(),It(r.$$.fragment),o=z(),l=I("div"),s=I("textarea"),F(n,"class","col-sm"),F(s,"class","plot-only"),F(l,"class","col-sm"),F(e,"class","row")},m(f,d){A(f,e,d),_(e,n),h&&h.m(n,null),_(n,i),Ct(r,n,null),_(e,o),_(e,l),_(l,s),L(s,t[0]),a=!0,u||(c=N(s,"input",t[3]),u=!0)},p(t,[e]){t[2]?h?h.p(t,e):(h=Na(t),h.c(),h.m(n,i)):h&&(h.d(1),h=null);const o={};2&e&&(o.boat=t[1]),r.$set(o),1&e&&L(s,t[0])},i(t){a||(bt(r.$$.fragment,t),a=!0)},o(t){wt(r.$$.fragment,t),a=!1},d(t){t&&M(e),h&&h.d(),Et(r),u=!1,c()}}}function Fa(t,e,n){let i="twa/tws;6;8;10;12;14;16;20\n0;0;0;0;0;0;0;0\n\n# This is the polar of ITA14800, which is not in the database anymore\n\n# Zeros are not plotted, you can use this to add optimal beat/run angles for a\n# specific wind speed. In this case, VMG must be converted to SOG:\n#   SOG = VMG / cos(beat_angle)\n\n# Beat angles\n44.2;5.02;0;0;0;0;0;0\n42.9;0;5.99;0;0;0;0;0\n42.5;0;0;6.81;0;0;0;0\n40.8;0;0;0;7.17;0;0;0\n39.3;0;0;0;0;7.31;0;0\n38.3;0;0;0;0;0;7.39;0\n38.4;0;0;0;0;0;0;7.53\n\n52;5.58;6.71;7.54;7.9;8.06;8.15;8.25\n60;5.97;7.13;7.82;8.14;8.3;8.4;8.49\n75;6.33;7.46;8.03;8.36;8.62;8.83;9.02\n90;6.41;7.69;8.09;8.36;8.66;8.98;9.54\n110;6.35;7.63;8.31;8.79;9.07;9.27;9.68\n120;6.15;7.54;8.22;8.65;9.15;9.52;10.07\n135;5.48;6.78;7.75;8.26;8.69;9.2;10.45\n150;4.54;5.7;6.76;7.58;8.12;8.52;9.46\n\n# Run angles\n142.1;4.98;0;0;0;0;0;0\n144.7;0;6.04;0;0;0;0;0\n144.9;0;0;7.15;0;0;0;0\n153.4;0;0;0;7.38;0;0;0\n159.4;0;0;0;0;7.71;0;0\n166.9;0;0;0;0;0;7.92;0\n173.1;0;0;0;0;0;0;8.54";const r={speeds:[],angles:[]};let o,l=r;return t.$$.update=()=>{if(1&t.$$.dirty)try{n(1,l=function(t){if(0!==(t=t.trim()).indexOf(jo))throw"CSV should start with "+jo;var e=t.split(/\r?\n/).filter((t=>t.length>0&&"#"!=t[0])),n={speeds:e[0].split(qo).slice(1).map(yo),angles:[]};return e.slice(1).forEach((function(t){var e=t.split(qo),i=$o(e[0]);n.angles.push(i),n[i]=e.slice(1).map($o)})),n}(i)),n(2,o=void 0)}catch(t){n(1,l=r),n(2,o=t)}},[i,l,o,function(){i=this.value,n(0,i)}]}class Da extends Ot{constructor(t){super(),zt(this,t,Fa,Ta,l,{})}}function La(t,e,n){const i=t.slice();return i[9]=e[n][0],i[10]=e[n][1],i}function Pa(t,e,n){const i=t.slice();return i[13]=e[n][0],i[14]=e[n][1],i[15]=e[n][2],i[16]=e[n][3],i}function Ha(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Ra(t){let e,n,i=Object.entries(t[8]),r=[];for(let e=0;e<i.length;e+=1)r[e]=ja(La(t,i,e));const o=t=>wt(r[t],1,1,(()=>{r[t]=null}));return{c(){e=I("div");for(let t=0;t<r.length;t+=1)r[t].c();F(e,"class","row")},m(t,i){A(t,e,i);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null);n=!0},p(t,n){if(25&n){let l;for(i=Object.entries(t[8]),l=0;l<i.length;l+=1){const o=La(t,i,l);r[l]?(r[l].p(o,n),bt(r[l],1)):(r[l]=ja(o),r[l].c(),bt(r[l],1),r[l].m(e,null))}for(yt(),l=i.length;l<r.length;l+=1)o(l);$t()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)bt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)wt(r[t]);n=!1},d(t){t&&M(e),k(r,t)}}}function Va(t){let e,n,i,o,l,s,a,u,c,h,f,d=(t[14]||"?")+"",p=t[16]+"";function m(){return t[6](t[13])}function g(){return t[7](t[13])}return n=new _a({props:{number:t[13]}}),{c(){e=I("li"),It(n.$$.fragment),i=z(),o=E(d),l=z(),s=I("span"),a=E(p),u=z(),F(s,"class","float-end"),F(e,"class","boat svelte-15udm7i")},m(t,r){A(t,e,r),Ct(n,e,null),_(e,i),_(e,o),_(e,l),_(e,s),_(s,a),_(e,u),c=!0,h||(f=[N(e,"click",m),N(e,"mouseenter",g)],h=!0)},p(e,n){t=e},i(t){c||(bt(n.$$.fragment,t),c=!0)},o(t){wt(n.$$.fragment,t),c=!1},d(t){t&&M(e),Et(n),h=!1,r(f)}}}function ja(t){let e,n,i,r,o,l,s,a=t[4][t[9]]+"",u=t[10],c=[];for(let e=0;e<u.length;e+=1)c[e]=Va(Pa(t,u,e));const h=t=>wt(c[t],1,1,(()=>{c[t]=null}));return{c(){e=I("div"),n=I("h5"),i=E(a),r=z(),o=I("ul");for(let t=0;t<c.length;t+=1)c[t].c();l=z(),F(o,"class","list-unstyled"),F(e,"class","col-md-6")},m(t,a){A(t,e,a),_(e,n),_(n,i),_(e,r),_(e,o);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(o,null);_(e,l),s=!0},p(t,e){if(9&e){let n;for(u=t[10],n=0;n<u.length;n+=1){const i=Pa(t,u,n);c[n]?(c[n].p(i,e),bt(c[n],1)):(c[n]=Va(i),c[n].c(),bt(c[n],1),c[n].m(o,null))}for(yt(),n=u.length;n<c.length;n+=1)h(n);$t()}},i(t){if(!s){for(let t=0;t<u.length;t+=1)bt(c[t]);s=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)wt(c[t]);s=!1},d(t){t&&M(e),k(c,t)}}}function qa(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Ba(t){let e,n,i,r,o,l,s,a,u,c,h=t[1].name+"",f=t[1].boat.type+"";return n=new _a({props:{number:t[1].sailnumber}}),u=new So({props:{boat:t[1]}}),{c(){e=I("h6"),It(n.$$.fragment),i=z(),r=E(h),o=E(" ("),l=E(f),s=E(")"),a=z(),It(u.$$.fragment),F(e,"class","svelte-15udm7i")},m(t,h){A(t,e,h),Ct(n,e,null),_(e,i),_(e,r),_(e,o),_(e,l),_(e,s),A(t,a,h),Ct(u,t,h),c=!0},p(t,e){const i={};2&e&&(i.number=t[1].sailnumber),n.$set(i),(!c||2&e)&&h!==(h=t[1].name+"")&&D(r,h),(!c||2&e)&&f!==(f=t[1].boat.type+"")&&D(l,f);const o={};2&e&&(o.boat=t[1]),u.$set(o)},i(t){c||(bt(n.$$.fragment,t),bt(u.$$.fragment,t),c=!0)},o(t){wt(n.$$.fragment,t),wt(u.$$.fragment,t),c=!1},d(t){t&&M(e),Et(n),t&&M(a),Et(u,t)}}}function Ga(t){let e,n,i,o,l,s,a,u,c,h,f,d,p,m,g,v,y,$,b,w,x={ctx:t,current:null,token:null,hasCatch:!1,pending:qa,then:Ra,catch:Ha,value:8,blocks:[,,,]};_t(fetch("extremes.json").then((t=>t.json())),x);let S=t[1]&&Ba(t);return{c(){e=I("div"),n=I("div"),i=I("div"),o=I("p"),l=E("Polar diagrams for sailyachts with ORC certificates. Select one of the boats below, search by\n                sailnumber, name or type or select a\n                "),s=I("span"),s.textContent="random boat",a=E("."),u=z(),c=I("p"),c.innerHTML='Questions/suggestions? Contact me on <a href="https://twitter.com/jietermanis">Twitter</a> or\n                <a href="https://github.com/jieter/orc-data">GitHub</a>. All data is fetched from\n                <a href="https://orc.org/index.asp?id=44">ORC.org</a>.',h=z(),f=I("div"),d=I("button"),d.textContent="Random boat",p=z(),m=I("div"),g=I("div"),x.block.c(),v=z(),y=I("div"),S&&S.c(),F(s,"class","link-primary svelte-15udm7i"),F(i,"class","col col-sm-8 p-4"),F(d,"class","btn btn-primary"),F(f,"class","col-sm-4 p-4"),F(n,"class","row gx-5"),F(g,"class","col col-sm-8 p-4"),F(y,"class","col-sm-4 p-4"),F(m,"class","row gx-5"),F(e,"class","container-fluid")},m(r,M){A(r,e,M),_(e,n),_(n,i),_(i,o),_(o,l),_(o,s),_(o,a),_(i,u),_(i,c),_(n,h),_(n,f),_(f,d),_(e,p),_(e,m),_(m,g),x.block.m(g,x.anchor=null),x.mount=()=>g,x.anchor=null,_(m,v),_(m,y),S&&S.m(y,null),$=!0,b||(w=[N(s,"click",t[2]),N(d,"click",t[2])],b=!0)},p(e,[n]){xt(x,t=e,n),t[1]?S?(S.p(t,n),2&n&&bt(S,1)):(S=Ba(t),S.c(),bt(S,1),S.m(y,null)):S&&(yt(),wt(S,1,1,(()=>{S=null})),$t())},i(t){$||(bt(x.block),bt(S),$=!0)},o(t){for(let t=0;t<3;t+=1){wt(x.blocks[t])}wt(S),$=!1},d(t){t&&M(e),x.block.d(),x.token=null,x=null,S&&S.d(),b=!1,r(w)}}}function Wa(t,e,n){let i,r,{sailnumber:o}=e;async function l(t){t&&n(1,r=await Uo(t))}Z((async()=>{n(5,i=await Xo())}));return t.$$set=t=>{"sailnumber"in t&&n(0,o=t.sailnumber)},t.$$.update=()=>{32&t.$$.dirty&&l(i)},[o,r,async function(){n(0,o=await Xo()),console.log(o)},l,{max_speed:"Greatest maximum speed (kts)",min_speed:"Smallest maximum speed (kts)",max_length:"Greatest length over all (m)",max_displacement:"Greatest displacement (kg)",max_draft:"Greatest draft (m)"},i,t=>n(0,o=t),t=>l(t)]}class Xa extends Ot{constructor(t){super(),zt(this,t,Wa,Ga,l,{sailnumber:0})}}function Ka(t){let e,n,i,r;function o(e){t[2](e)}let l={};return void 0!==t[0]&&(l.sailnumber=t[0]),n=new ya({props:l}),it.push((()=>kt(n,"sailnumber",o))),{c(){e=I("li"),It(n.$$.fragment),F(e,"class","nav-item d-block-md")},m(t,i){A(t,e,i),Ct(n,e,null),r=!0},p(t,e){const r={};!i&&1&e&&(i=!0,r.sailnumber=t[0],ht((()=>i=!1))),n.$set(r)},i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){wt(n.$$.fragment,t),r=!1},d(t){t&&M(e),Et(n)}}}function Ua(t){let e,n;return e=new ol({props:{sailnumber:t[0]}}),{c(){It(e.$$.fragment)},m(t,i){Ct(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.sailnumber=t[0]),e.$set(i)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Et(e,t)}}}function Qa(e){let n,i;return n=new Oa({}),{c(){It(n.$$.fragment)},m(t,e){Ct(n,t,e),i=!0},p:t,i(t){i||(bt(n.$$.fragment,t),i=!0)},o(t){wt(n.$$.fragment,t),i=!1},d(t){Et(n,t)}}}function Ya(e){let n,i;return n=new Da({}),{c(){It(n.$$.fragment)},m(t,e){Ct(n,t,e),i=!0},p:t,i(t){i||(bt(n.$$.fragment,t),i=!0)},o(t){wt(n.$$.fragment,t),i=!1},d(t){Et(n,t)}}}function Za(t){let e,n,i;function r(e){t[3](e)}let o={};return void 0!==t[0]&&(o.sailnumber=t[0]),e=new Xa({props:o}),it.push((()=>kt(e,"sailnumber",r))),{c(){It(e.$$.fragment)},m(t,n){Ct(e,t,n),i=!0},p(t,i){const r={};!n&&1&i&&(n=!0,r.sailnumber=t[0],ht((()=>n=!1))),e.$set(r)},i(t){i||(bt(e.$$.fragment,t),i=!0)},o(t){wt(e.$$.fragment,t),i=!1},d(t){Et(e,t)}}}function Ja(t){let e,n,i,r,o,l,s,a,u,c,h,f,d,p,m,g,v,y,$,b,w,x=!t[0]||t[0]&&!t[0].startsWith("compare"),S=x&&Ka(t);const k=[Za,Ya,Qa,Ua],C=[];function N(t,e){return 2&e&&(v=null),"extremes"==t[1]?0:"customplot"==t[1]?1:(null==v&&(v=!!t[1].startsWith("compare")),v?2:3)}return y=N(t,-1),$=C[y]=k[y](t),{c(){e=I("nav"),n=I("div"),i=I("a"),i.textContent="ORC sailboat data (2022)",r=z(),o=I("button"),o.innerHTML='<span class="navbar-toggler-icon"></span>',l=z(),s=I("div"),a=I("ul"),S&&S.c(),u=z(),c=I("li"),c.innerHTML='<a href="#compare" class="nav-link">Compare boats</a>',h=z(),f=I("li"),f.innerHTML='<a href="#customplot" class="nav-link">Plot custom CSV</a>',d=z(),p=I("div"),p.innerHTML='<a href="https://twitter.com/jietermanis">Twitter</a>,\n                <a href="https://github.com/jieter/orc-data/">GitHub</a>,\n                <a href="https://orc.org/index.asp?id=44">Data © ORC.org</a>',m=E("\n             "),g=z(),$.c(),b=O(),F(i,"class","navbar-brand"),F(i,"href","#extremes"),F(o,"class","navbar-toggler"),F(o,"type","button"),F(o,"data-bs-toggle","collapse"),F(o,"data-bs-target","#navbarSupportedContent"),F(o,"aria-controls","navbarSupportedContent"),F(o,"aria-expanded","false"),F(o,"aria-label","Toggle navigation"),F(c,"class","nav-item"),F(f,"class","nav-item"),F(a,"class","navbar-nav me-auto mb-2 mb-lg-0"),F(p,"class","d-flex navbar-text"),F(s,"class","collapse navbar-collapse"),F(s,"id","navbarSupportedContent"),F(n,"class","container-fluid"),F(e,"class","navbar navbar-expand-lg navbar-light bg-light")},m(t,v){A(t,e,v),_(e,n),_(n,i),_(n,r),_(n,o),_(n,l),_(n,s),_(s,a),S&&S.m(a,null),_(a,u),_(a,c),_(a,h),_(a,f),_(s,d),_(s,p),_(s,m),A(t,g,v),C[y].m(t,v),A(t,b,v),w=!0},p(t,[e]){1&e&&(x=!t[0]||t[0]&&!t[0].startsWith("compare")),x?S?(S.p(t,e),1&e&&bt(S,1)):(S=Ka(t),S.c(),bt(S,1),S.m(a,u)):S&&(yt(),wt(S,1,1,(()=>{S=null})),$t());let n=y;y=N(t,e),y===n?C[y].p(t,e):(yt(),wt(C[n],1,1,(()=>{C[n]=null})),$t(),$=C[y],$?$.p(t,e):($=C[y]=k[y](t),$.c()),bt($,1),$.m(b.parentNode,b))},i(t){w||(bt(S),bt($),w=!0)},o(t){wt(S),wt($),w=!1},d(t){t&&M(e),S&&S.d(),t&&M(g),C[y].d(t),t&&M(b)}}}function tu(t,e,n){let{route:i="extremes"}=e,{sailnumber:r=null}=e;const o=t=>["extremes","customplot","compare"].some((e=>t.startsWith(e)));function l(){const t=window.location.hash;n(1,i=t.length>1?t.substring(1):"extremes"),o(i)?n(0,r=null):(n(0,r=i),n(1,i="boat"))}return Z((()=>(window.addEventListener("hashchange",l,!1),l(),()=>window.removeEventListener("hashchange",l,!1)))),t.$$set=t=>{"route"in t&&n(1,i=t.route),"sailnumber"in t&&n(0,r=t.sailnumber)},t.$$.update=()=>{1&t.$$.dirty&&r&&!o(r)&&(window.location.hash=r)},[r,i,function(t){r=t,n(0,r)},function(t){r=t,n(0,r)}]}const eu=window.location.hash;return new class extends Ot{constructor(t){super(),zt(this,t,tu,Ja,l,{route:1,sailnumber:0})}}({target:document.querySelector("#container"),props:{sailnumber:eu.length>1?eu.substring(1):void 0}})}();
//# sourceMappingURL=index.js.map
